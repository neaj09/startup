(()=>{var e={924:(e,t,n)=>{var a={"./cloudy_to_clear_icon.png":858,"./foggy_icon.png":600,"./rainy_icon.png":530,"./sleet_drizzle_icon.png":200,"./snowy_icon.png":174,"./thundery_icon.png":408};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id=924},685:(e,t,n)=>{"use strict";var a=n(963),i=n(252);function o(e,t){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(n)}var s=n(744);const l={},r=(0,s.Z)(l,[["render",o]]),d=r;var c=n(201);const u={id:"public"};function h(e,t,n,a,o,s){const l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(l)])}function m(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",{class:"round-div",ref:"roundDiv",onMousedown:t[0]||(t[0]=(0,a.iM)(((...e)=>l.startDrag&&l.startDrag(...e)),["stop","prevent"])),onMouseup:t[1]||(t[1]=(0,a.iM)(((...e)=>l.endDrag&&l.endDrag(...e)),["stop","prevent"])),onTouchstart:t[2]||(t[2]=(0,a.iM)(((...e)=>l.startDragTouch&&l.startDragTouch(...e)),["stop","prevent"])),onTouchmove:t[3]||(t[3]=(0,a.iM)(((...e)=>l.doDragTouch&&l.doDragTouch(...e)),["stop","prevent"])),onTouchend:t[4]||(t[4]=(0,a.iM)(((...e)=>l.endDrag&&l.endDrag(...e)),["stop","prevent"]))},null,544)}var p=n(577);const g=n.p+"img/logo.fcaff911.svg",_={class:"navBar"},v={class:"navUl"},f={class:"ul-link"};function w(e,t,n,o,s,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Uk)((0,p.zw)(s.menuIsActive)+" ",1),(0,i._)("div",{class:"move",ref:"roundDiv",onMousedown:t[0]||(t[0]=(0,a.iM)(((...e)=>l.startDrag&&l.startDrag(...e)),["prevent","stop"])),onTouchstart:t[1]||(t[1]=(0,a.iM)(((...e)=>l.startDragTouch&&l.startDragTouch(...e)),["prevent"])),onTouchmove:t[2]||(t[2]=(0,a.iM)(((...e)=>l.doDragTouch&&l.doDragTouch(...e)),["prevent"])),onTouchend:t[3]||(t[3]=(...e)=>l.endDragTouch&&l.endDragTouch(...e))},[(0,i._)("span",{class:(0,p.C_)(["menu",{shadowMenu:s.menuIsActive}])},[(0,i._)("span",{class:(0,p.C_)(["exit",{halbaxit:s.menuIsActive}])},null,2),(0,i._)("img",{class:(0,p.C_)(["logo",{halba:s.menuIsActive}]),src:g},null,2)],2)],544),(0,i._)("div",_,[(0,i.wy)((0,i._)("ul",v,[(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})])],512),[[a.F8,!s.menuIsActive]])]),(0,i._)("div",{onClick:t[4]||(t[4]=(...e)=>l.navigation&&l.navigation(...e)),onWheel:t[5]||(t[5]=(0,a.iM)((()=>{}),["prevent"])),onTouchmove:t[6]||(t[6]=(0,a.iM)((()=>{}),["prevent"])),onScroll:t[7]||(t[7]=(0,a.iM)((()=>{}),["prevent"])),class:(0,p.C_)([{showNavLink:s.menuIsActive},"navLink"])},[(0,i._)("ul",f,[(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("LA CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)("Login")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/signup"},{default:(0,i.w5)((()=>[(0,i.Uk)("Signup")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/about"},{default:(0,i.w5)((()=>[(0,i.Uk)("About")])),_:1})])])],34)],64)}const b={name:"newdeliceNav",data(){return{menuIsActive:!1,isDragging:!1,currentX:0,currentY:0,initialX:0,initialY:0,xOffset:0,yOffset:0}},computed:{},methods:{navigation(){this.menuIsActive=!1},startDrag(e){this.xDetectClick=e.clientX,this.yDetectClick=e.clientY,this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0,document.addEventListener("mousemove",this.doDrag),document.addEventListener("mouseup",this.endDrag))},startDragTouch(e){this.xDetectTouch=e.touches[0].clientX,this.yDetectTouch=e.touches[0].clientY,this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0,document.addEventListener("touchmove",this.doDragTouch),document.addEventListener("touchend",this.endDragTouch))},doDrag(e){this.isDragging&&(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},doDragTouch(e){this.isDragging&&(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},endDrag(e){this.isDragging=!1,this.xDetectClick===e.clientX&&this.yDetectClick===e.clientY&&(this.menuIsActive=!this.menuIsActive),this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,document.removeEventListener("mousemove",this.doDrag),document.removeEventListener("mouseup",this.endDrag)},endDragTouch(e){this.isDragging=!1,this.xDetectTouch===e.changedTouches[0].clientX&&this.yDetectTouch===e.changedTouches[0].clientY&&(this.menuIsActive=!this.menuIsActive),this.initialX=e.changedTouches[0].clientX,this.initialY=e.changedTouches[0].clientY,document.removeEventListener("touchmove",this.doDragTouch),document.removeEventListener("touchend",this.endDragTouch)},setTranslate(e,t,n){n.style.transform=`translate3d(${e}px, ${t}px, 0)`}}},k=(0,s.Z)(b,[["render",w],["__scopeId","data-v-3a41d0d7"]]),y=k,D={name:"RoundDiv",components:{newdeliceNav:y},data(){return{isDragging:!1,currentX:0,currentY:0,initialX:0,initialY:0,xOffset:0,yOffset:0}},methods:{startDrag(e){this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0,document.addEventListener("mousemove",this.doDrag))},startDragTouch(e){this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0)},doDrag(e){this.isDragging&&(e.preventDefault(),this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},doDragTouch(e){this.isDragging&&(e.preventDefault(),this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},endDrag(){this.initialX=this.currentX,this.initialY=this.currentY,this.isDragging=!1,document.removeEventListener("mousemove",this.doDrag)},setTranslate(e,t,n){n.style.transform=`translate3d(${e}px, ${t}px, 0)`}}},C=(0,s.Z)(D,[["render",m]]),U=C,I=e=>((0,i.dD)("data-v-22f356cd"),e=e(),(0,i.Cn)(),e),T={class:"navbar"},x={class:"dropdown"},P=I((()=>(0,i._)("a",{class:"link",href:""},"ADMIN",-1))),M={class:"dropdown-content"};function A(e,t,n,a,o,s){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("nav",T,[(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(l,{class:"link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(l,{class:"link",to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("LA CARTE")])),_:1})]),(0,i._)("li",x,[P,(0,i._)("div",M,[(0,i.Wm)(l,{class:"dropdown-link",to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1}),(0,i.Wm)(l,{class:"dropdown-link",to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)("Login")])),_:1}),(0,i.Wm)(l,{class:"dropdown-link",to:"/signup"},{default:(0,i.w5)((()=>[(0,i.Uk)("Signup")])),_:1})])]),(0,i._)("li",null,[(0,i.Wm)(l,{class:"link",to:"/about"},{default:(0,i.w5)((()=>[(0,i.Uk)("About")])),_:1})])])])}const E={name:"PublicNav"},L=(0,s.Z)(E,[["render",A],["__scopeId","data-v-22f356cd"]]),O=L,S={class:"navMobile"};function W(e,t,n,a,o,s){const l=(0,i.up)("BurgerNav");return(0,i.wg)(),(0,i.iD)("nav",S,[(0,i.Wm)(l)])}const N=n.p+"img/logo.f839fd85.png",Y={class:"navBar"},z={class:"navUl"},q={class:"menu"},R={class:"ul-link"};function X(e,t,n,o,s,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Y,[(0,i.wy)((0,i._)("ul",z,[(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})])],512),[[a.F8,!s.menuIsActive]])]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.menuIsActive=e)},null,512),[[a.e8,s.menuIsActive]]),(0,i._)("span",q,[(0,i._)("span",{class:(0,p.C_)(["exit",{halbaxit:s.menuIsActive}])},null,2),(0,i._)("img",{class:(0,p.C_)(["logo",{halba:s.menuIsActive}]),src:N},null,2)])]),(0,i._)("div",{onClick:t[1]||(t[1]=(...e)=>l.navigation&&l.navigation(...e)),onWheel:t[2]||(t[2]=(0,a.iM)((()=>{}),["prevent"])),onTouchmove:t[3]||(t[3]=(0,a.iM)((()=>{}),["prevent"])),onScroll:t[4]||(t[4]=(0,a.iM)((()=>{}),["prevent"])),class:(0,p.C_)([{showNavLink:s.menuIsActive},"navLink"])},[(0,i._)("ul",R,[(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("LA CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)("Login")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/signup"},{default:(0,i.w5)((()=>[(0,i.Uk)("Signup")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"link",to:"/about"},{default:(0,i.w5)((()=>[(0,i.Uk)("About")])),_:1})])])],34)],64)}const F={name:"BurgerNav",data(){return{menuIsActive:!1}},computed:{},methods:{navigation(){this.menuIsActive=!1}}},V=(0,s.Z)(F,[["render",X],["__scopeId","data-v-aa9d60c4"]]),$=V,B={name:"NavMobile",components:{BurgerNav:$}},H=(0,s.Z)(B,[["render",W],["__scopeId","data-v-2f1f3c34"]]),Z=H;var K=n(907);const j={name:"PublicLayout",components:{PublicNav:O,NavMobile:Z,BurgerNav:$,testComponent:U,NewdeliceNav:y},computed:{...(0,K.Se)(["getPublicStyle"])},methods:{...(0,K.OI)(["changePublicStyle"]),change(){this.changePublicStyle("paul")}}},G=(0,s.Z)(j,[["render",h],["__scopeId","data-v-d79687c0"]]),J=G,Q={class:"about"},ee=(0,i._)("h1",null,"This is an about page",-1),te=[ee];function ne(e,t){return(0,i.wg)(),(0,i.iD)("div",Q,te)}const ae={},ie=(0,s.Z)(ae,[["render",ne]]),oe=ie,se=e=>((0,i.dD)("data-v-61267512"),e=e(),(0,i.Cn)(),e),le={class:"home"},re={class:"container-grid"},de={class:"section-marketing"},ce={class:"banner-content"},ue={class:"picture"},he=["src"],me={class:"textWrap"},pe={class:"cardText"},ge={class:"card-title"},_e={class:"card-description"},ve=se((()=>(0,i._)("button",{class:"btn"},"Voir l'offre",-1))),fe={class:"section-dashboard"},we={class:"banner"},be={key:0,class:"date"},ke={key:1,class:"time"},ye={class:"info-meteo"},De={key:0,class:"meteoIcon"},Ce={key:1,class:"meteoIcon"},Ue=["src"],Ie={class:"banner"},Te={class:"banner-content"},xe=se((()=>(0,i._)("h2",null,"à la Une",-1))),Pe={id:"alaune"},Me=se((()=>(0,i._)("div",{class:"banner"},[(0,i._)("div",{class:"banner-content"},[(0,i._)("h2",null,"à la Une"),(0,i._)("div")])],-1))),Ae={class:"section-copro"},Ee={class:"banner"},Le={class:"banner-content"},Oe={class:"section-menu"},Se={class:"banner"},We={class:"banner-content"},Ne={class:"section-more"},Ye={class:"banner"},ze={class:"banner-content"};function qe(e,t,n,a,o,s){const l=(0,i.up)("ThreadsList"),r=(0,i.up)("navDash");return(0,i.wg)(),(0,i.iD)("div",le,[(0,i._)("div",re,[(0,i._)("section",de,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.home,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"banner",key:e._id},[(0,i._)("div",ce,[(0,i._)("div",ue,[(0,i._)("img",{src:e.imgPost},null,8,he)])]),(0,i._)("div",me,[(0,i._)("div",pe,[(0,i._)("div",ge,(0,p.zw)(e.titlePost),1),(0,i._)("div",_e,(0,p.zw)(e.descriptionPost),1)]),ve])])))),128))]),(0,i._)("section",fe,[(0,i._)("div",we,[o.currentDateTime?((0,i.wg)(),(0,i.iD)("div",be,(0,p.zw)(o.currentDateTime.date),1)):(0,i.kq)("",!0),o.currentDateTime?((0,i.wg)(),(0,i.iD)("div",ke,(0,p.zw)(o.currentDateTime.time),1)):(0,i.kq)("",!0),(0,i._)("div",ye,[o.weatherDegre?((0,i.wg)(),(0,i.iD)("div",De,(0,p.zw)(o.weatherDegre)+"°",1)):(0,i.kq)("",!0),o.weatherIcon?((0,i.wg)(),(0,i.iD)("div",Ce,[(0,i._)("img",{class:"weatherIcon",src:o.weatherIcon,alt:"Icône météo"},null,8,Ue)])):(0,i.kq)("",!0)])]),(0,i._)("div",Ie,[(0,i._)("div",Te,[xe,(0,i._)("div",Pe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.filteredArticles,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"news-article",key:e.author},[(0,i._)("h3",null,(0,p.zw)(e.title),1),(0,i._)("p",null,(0,p.zw)(e.description),1)])))),128))])])]),Me]),(0,i._)("section",Ae,[(0,i._)("div",Ee,[(0,i._)("div",Le,[(0,i.Wm)(l)])])]),(0,i._)("section",Oe,[(0,i._)("div",Se,[(0,i._)("div",We,[(0,i.Wm)(r)])])]),(0,i._)("section",Ne,[(0,i._)("div",Ye,[(0,i._)("div",ze,[(0,i.Wm)(r)])])])])])}var Re=n(154);let Xe=e=>je.post("api/auth/signup",e),Fe=e=>je.post("api/auth/login",e),Ve=()=>{sessionStorage.removeItem("token")},$e=e=>{sessionStorage.setItem("token",e)},Be=()=>sessionStorage.getItem("token"),He=()=>{let e=sessionStorage.getItem(e);return!!e};const Ze={signup:Xe,login:Fe,logout:Ve,saveToken:$e,getToken:Be,isLogged:He},Ke=Re.Z.create({baseURL:"https://back-8hi1.onrender.com"});Ke.interceptors.request.use((e=>(Ze.isLogged&&(e.headers.Authorization="Bearer "+Ze.getToken()),e))),Ke.interceptors.response.use((e=>e),(e=>{401==e.response.status&&"Non autorisé"==e.response.message&&(Ze.logout(),Ms.push("/"))}));const je=Ke;let Ge=()=>je.get("/api/content"),Je=e=>je.post("/api/content",e,{headers:{"Content-Type":"multipart/form-data"}}),Qe=(e,t)=>je.patch("/api/content/"+e,t,{headers:{"Content-Type":"multipart/form-data"}});const et={postContent:Qe,getContent:Ge,createPost:Je};let tt=e=>je.get("/api/service/weather/"+e);const nt={getWeather:tt};let at=()=>je.get("/api/service/news");const it={getNews:at},ot=n.p+"img/moncompte.f7dd1d59.png",st=e=>((0,i.dD)("data-v-1579a5bd"),e=e(),(0,i.Cn)(),e),lt={class:"navbar"},rt=st((()=>(0,i._)("img",{class:"navIcon",src:ot,alt:"Icône Mon compte",style:{height:"65px"}},null,-1)));function dt(e,t,n,a,o,s){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("nav",lt,[(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(l,{class:"link",to:"/"},{default:(0,i.w5)((()=>[rt])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(l,{class:"link",to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("LA CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(l,{class:"dropdown-link",to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(l,{class:"dropdown-link",to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)("Login")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(l,{class:"dropdown-link",to:"/signup"},{default:(0,i.w5)((()=>[(0,i.Uk)("Signup")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(l,{class:"link",to:"/about"},{default:(0,i.w5)((()=>[(0,i.Uk)("About")])),_:1})])])])}const ct={name:"navDash"},ut=(0,s.Z)(ct,[["render",dt],["__scopeId","data-v-1579a5bd"]]),ht=ut,mt=n.p+"img/edit.903cd638.png",pt=e=>((0,i.dD)("data-v-2cbcfa5e"),e=e(),(0,i.Cn)(),e),gt=pt((()=>(0,i._)("h1",null,"ChatCopro'",-1))),_t={class:"chat-feed"},vt={class:"feed"},ft={class:"feedAuthor"},wt=["onClick"],bt={class:"action-footer"},kt=pt((()=>(0,i._)("img",{src:mt,style:{width:"30px"}},null,-1))),yt=[kt];function Dt(e,t,n,a,o,s){const l=(0,i.up)("ThreadCommentsModal"),r=(0,i.up)("CreateThreadModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[gt,(0,i._)("div",_t,[(0,i._)("ul",vt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.threads,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"feedItem",key:e._id},[(0,i._)("h2",null,(0,p.zw)(e.title),1),(0,i._)("p",ft,"le "+(0,p.zw)(s.formatDate(e.createdAt))+" par "+(0,p.zw)(e.author.name),1),(0,i._)("button",{class:"btn",onClick:t=>s.showThread(e._id)},"Ouvrir le fil",8,wt)])))),128))]),(0,i.Wm)(l,{threadId:o.selectedThreadId,showModal:o.showModal,onClose:s.closeModal},null,8,["threadId","showModal","onClose"]),(0,i.Wm)(r,{showModal:o.showCreateThreadModal,onClose:t[0]||(t[0]=e=>o.showCreateThreadModal=!1)},null,8,["showModal"])]),(0,i._)("div",bt,[(0,i._)("button",{class:"btn",onClick:t[1]||(t[1]=e=>o.showCreateThreadModal=!0)},yt)])],64)}let Ct=()=>je.get("/chat/threads"),Ut=e=>je.get("/chat/threads/"+e),It=(e,t)=>je.put("/chat/threads/"+e,t),Tt=e=>je.post("/chat/threads",e),xt=e=>je["delete"]("/chat/threads/"+e),Pt=()=>je.get("/chat/comments"),Mt=e=>je.get("/chat/comments/"+e),At=(e,t)=>je.put("/chat/comments/"+e,t),Et=(e,t)=>je.post("/chat/comments/"+e,t),Lt=e=>je["delete"]("/chat/comments/"+e);const Ot={getAllThreads:Ct,getThreadById:Ut,updateThread:It,createThread:Tt,deleteThread:xt,getAllComments:Pt,getCommentById:Mt,updateComment:At,createComment:Et,deleteComment:Lt},St=n.p+"img/send.4141bc25.png",Wt=e=>((0,i.dD)("data-v-112f35db"),e=e(),(0,i.Cn)(),e),Nt={key:0,class:"modal"},Yt={class:"modal-content"},zt={class:"feed-header"},qt={class:"feed-title"},Rt={class:"chatCopro"},Xt={class:"feedCopro"},Ft={class:"author-comment"},Vt={class:"comment-content"},$t={class:"action-footer"},Bt=Wt((()=>(0,i._)("img",{class:"send-icon",src:St,alt:"Icône Envoyez",style:{height:"27px"}},null,-1))),Ht=[Bt];function Zt(e,t,n,o,s,l){return n.showModal&&s.thread?((0,i.wg)(),(0,i.iD)("div",Nt,[(0,i._)("div",Yt,[(0,i._)("div",zt,[(0,i._)("h3",qt,(0,p.zw)(s.thread.title),1),(0,i._)("span",{class:"close btn",onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e))},"×")]),(0,i._)("div",Rt,[(0,i._)("div",Xt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.comments,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"feedItem",key:e._id},[(0,i._)("h3",Ft,(0,p.zw)(e.author.name),1),(0,i._)("p",Vt,(0,p.zw)(e.content),1)])))),128))])]),(0,i._)("div",$t,[(0,i.wy)((0,i._)("textarea",{class:"sender","onUpdate:modelValue":t[1]||(t[1]=e=>s.newComment.content=e)},null,512),[[a.nr,s.newComment.content]]),(0,i._)("button",{class:"btn",onClick:t[2]||(t[2]=(...e)=>l.addComment&&l.addComment(...e))},Ht)])])])):(0,i.kq)("",!0)}var Kt=n(920);const jt=(0,Kt.ZP)("https://back-8hi1.onrender.com"),Gt={connect:()=>{jt.on("connect",(()=>{console.log("Connected to the server")}))},onThreadChange:e=>{jt.on("threadChange",(t=>{e(t)}))},onCommentChange:e=>{jt.on("commentChange",(t=>{e(t)}))},offCommentChange:e=>{jt.off("commentChange",e)},emitEvent:(e,t)=>{jt.emit(e,t)},disconnect:()=>{jt.disconnect()}},Jt=Gt,Qt={props:{threadId:{type:[String,null],required:!0},showModal:{type:Boolean,default:!1}},data(){return{comments:[],thread:null,newComment:{content:"",date:""}}},watch:{showModal:{handler:"fetchComments",immediate:!0}},methods:{fetchComments(){this.showModal&&Ot.getThreadById(this.threadId).then((e=>{this.thread=e.data,this.comments=e.data.comments}))},addComment(){if(!this.newComment.content.trim())return;const e=new Date;this.newComment.date=e,Ot.createComment(this.threadId,this.newComment).then((e=>{this.newComment.content=""}))},closeModal(){this.thread=null,this.$emit("close")}},mounted(){Jt.onCommentChange((e=>{console.log("changement comment"),this.fetchComments()}))},beforeDestroy(){Jt.offCommentChange(this.handleCommentChange)}},en=(0,s.Z)(Qt,[["render",Zt],["__scopeId","data-v-112f35db"]]),tn=en,nn=e=>((0,i.dD)("data-v-43a43a89"),e=e(),(0,i.Cn)(),e),an={key:0,class:"modal"},on={class:"modal-content"},sn={class:"feed-header"},ln=nn((()=>(0,i._)("h1",{class:"feed-title"},"Création d'un sujet",-1))),rn=nn((()=>(0,i._)("label",{for:"title"},"Titre:",-1))),dn=nn((()=>(0,i._)("label",{for:"content"},"Contenu:",-1))),cn=nn((()=>(0,i._)("label",{for:"expirationDate"},"Date d'expiration:",-1))),un=nn((()=>(0,i._)("label",{for:"comment-content"},"Commentaire:",-1))),hn={class:"action-footer"};function mn(e,t,n,o,s,l){return n.showModal?((0,i.wg)(),(0,i.iD)("div",an,[(0,i._)("div",on,[(0,i._)("div",sn,[ln,(0,i._)("span",{class:"close btn",onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e))},"×")]),rn,(0,i.wy)((0,i._)("input",{type:"text",id:"title","onUpdate:modelValue":t[1]||(t[1]=e=>s.newThread.title=e),required:""},null,512),[[a.nr,s.newThread.title]]),dn,(0,i.wy)((0,i._)("textarea",{id:"content",class:"input-area","onUpdate:modelValue":t[2]||(t[2]=e=>s.newThread.content=e),required:""},null,512),[[a.nr,s.newThread.content]]),cn,(0,i.wy)((0,i._)("input",{type:"date",id:"expirationDate","onUpdate:modelValue":t[3]||(t[3]=e=>s.expirationDate=e)},null,512),[[a.nr,s.expirationDate]]),un,(0,i.wy)((0,i._)("textarea",{id:"commentContent",class:"input-area","onUpdate:modelValue":t[4]||(t[4]=e=>s.newThread.commentContent=e),required:""},null,512),[[a.nr,s.newThread.commentContent]])]),(0,i._)("div",hn,[(0,i._)("button",{onClick:t[5]||(t[5]=(...e)=>l.submitNewThread&&l.submitNewThread(...e))},"Créer un thread")])])):(0,i.kq)("",!0)}const pn={props:{showModal:{type:Boolean,default:!1}},data(){return{newThread:{title:"",content:"",expirationDate:"",commentContent:""},expirationDate:""}},methods:{closeModal(){this.$emit("close")},submitNewThread(){if(this.expirationDate){const e=new Date,t=new Date(this.expirationDate);t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),this.newThread.expirationDate=t}Ot.createThread(this.newThread).then((e=>{console.log("Thread créé avec succès",e.data),this.newThread={title:"",content:"",expirationDate:""},this.expirationDate="",this.closeModal()})).catch((e=>{console.error("Erreur lors de la création du thread",e)}))}}},gn=(0,s.Z)(pn,[["render",mn],["__scopeId","data-v-43a43a89"]]),_n=gn;function vn(e){const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return`${n}/${a}/${i}`}const fn={components:{ThreadCommentsModal:tn,CreateThreadModal:_n},data(){return{threads:[],showModal:!1,selectedThreadId:null,showCreateThreadModal:!1}},methods:{formatDate:vn,fetchThreads(){Ot.getAllThreads().then((({data:e})=>{this.threads=e})).catch((e=>{console.error("An error occurred while fetching threads:",e)}))},showThread(e){this.selectedThreadId=e,this.showModal=!0},closeModal(){this.showModal=!1,this.selectedThreadId=null}},mounted(){this.fetchThreads(),Jt.connect(),Jt.onThreadChange((e=>{console.log("changement thread"),this.fetchThreads()}))},beforeDestroy(){Jt.disconnect()}},wn=(0,s.Z)(fn,[["render",Dt],["__scopeId","data-v-2cbcfa5e"]]),bn=wn,kn={name:"HomeView",components:{navDash:ht,ThreadsList:bn},data(){return{home:{},contents:[],hero:"",intervalId:null,currentDateTime:null,weatherIcon:"",weatherDegre:null,weatherIntervalId:null,news:[],authorsToFilter:["L'Équipe","TF1 INFO","franceinfo","BFMTV"],newsIntervalId:null,expirationDate:null}},methods:{getCurrentDateTime(){let e=new Date;this.currentDateTime={date:e.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:e.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}},getWeather(){nt.getWeather("Marseille").then((e=>{const t=e.data.current.weather_code;this.weatherIcon=this.getWeatherIcon(t),this.weatherDegre=e.data.current.temperature})).catch((e=>{console.log(e)}))},getNews(){it.getNews().then((e=>{this.news=e.data.articles,console.log(e.data)}))},getWeatherIcon:e=>{const t={snowy:[395,392,371,368,335,326,323,338,332,329,320,317,314,311,230,227],rainy:[389,386,359,356,353,305,299,296,293,308,302],sleet_drizzle:[377,374,365,362,182,350,284,281,185,266,263],foggy:[260,248,143],thundery:[200,179,176],cloudy_to_clear:[122,119,116,113]};for(const[a,i]of Object.entries(t))if(i.includes(e)){let e=n(924)(`./${a}_icon.png`);return e}return null}},computed:{filteredArticles(){return this.news.filter((e=>this.authorsToFilter.includes(e.author)))}},mounted(){et.getContent().then((e=>{this.home=e.data.home})).catch((e=>{console.log(e)})),this.getCurrentDateTime(),this.intervalId=setInterval(this.getCurrentDateTime,6e4),this.getWeather(),this.weatherIntervalId=setInterval(this.getWeather,216e5),this.getNews(),this.newsIntervalId=setInterval(this.getNews,216e5)},beforeUnmount(){clearInterval(this.intervalId),clearInterval(this.weatherIntervalId),clearInterval(this.newsIntervalId)}},yn=(0,s.Z)(kn,[["render",qe],["__scopeId","data-v-61267512"]]),Dn=yn,Cn=e=>((0,i.dD)("data-v-3f7c8142"),e=e(),(0,i.Cn)(),e),Un={class:"public"},In={class:"public-content"},Tn={class:"section"},xn=["onClick"],Pn={id:"sectionTacos",class:"menusection"},Mn=Cn((()=>(0,i._)("h1",{class:"titlesection"},"PRODUITS",-1))),An={class:"rayon",oncontextmenu:"return false;",onkeydown:"return false;",onmousedown:"return false;"},En={class:"pictureProduit"},Ln=["onClick"],On=["src"],Sn={key:0,class:"infos"},Wn={class:"titleandinfo"},Nn={class:"titleproduit"},Yn={class:"info"},zn={key:0,class:"prix"},qn={key:1,class:"prix"},Rn={key:1,class:"infos"},Xn=Cn((()=>(0,i._)("p",{class:"titleproduit"},"indisponible",-1))),Fn=[Xn];function Vn(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",Un,[(0,i._)("div",In,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.searchKey=e),type:"search",id:"search",placeholder:"rechercher...",autocomplete:"off"},null,512),[[a.nr,s.searchKey]]),(0,i._)("div",Tn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.categories,(e=>((0,i.wg)(),(0,i.iD)("label",{class:"switch",key:e},[(0,i._)("input",{type:"checkbox",onClick:t=>l.toggleCategory(e)},null,8,xn),(0,i._)("span",null,(0,p.zw)(e),1)])))),128))]),(0,i._)("section",Pn,[Mn,(0,i._)("div",An,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.filteredProducts,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"produit",key:e},[(0,i._)("div",En,[e.prixMenu?((0,i.wg)(),(0,i.iD)("img",{key:0,src:"menu.svg",onClick:e=>l.toggleMenu(t),class:(0,p.C_)({iconMenu:!0,iconMenuOff:!s.products[t].Menu})},null,10,Ln)):(0,i.kq)("",!0),(0,i._)("img",{src:e.imageUrl,alt:"une photo du Tacos M",class:"imgproduit"},null,8,On),(0,i._)("img",{src:"boisson.png",class:(0,p.C_)({boisson:!0,boissonOut:!s.products[t].Menu})},null,2),(0,i._)("img",{src:"frite.png",class:(0,p.C_)({frite:!0,friteOut:!s.products[t].Menu})},null,2)]),e.available?((0,i.wg)(),(0,i.iD)("div",Sn,[(0,i._)("div",Wn,[(0,i._)("h2",Nn,(0,p.zw)(e.nameProduct),1),(0,i._)("h3",Yn,(0,p.zw)(e.descriptionProduct),1)]),s.products[t].Menu&&s.products[t].prixMenu?((0,i.wg)(),(0,i.iD)("p",zn,(0,p.zw)(e.prixMenu.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1)):((0,i.wg)(),(0,i.iD)("p",qn,(0,p.zw)(e.prixProduct.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1))])):((0,i.wg)(),(0,i.iD)("div",Rn,Fn))])))),128))])])])])}let $n=()=>je.get("/api/products"),Bn=e=>je.get("/api/products/"+e),Hn=(e,t)=>je.patch("/api/products/"+e,t,{headers:{"Content-Type":"multipart/form-data"}}),Zn=e=>je.post("/api/products/",e,{headers:{"Content-Type":"multipart/form-data"}}),Kn=e=>{je.post("/api/products",e,{headers:{"Content-Type":"multipart/form-data"}})},jn=e=>je["delete"]("/api/products/"+e);const Gn={deleteProduct:jn,createProduct:Zn,getAllProducts:$n,getProduct:Bn,updateProduct:Hn,uploadImg:Kn},Jn={name:"Menu",data(){return{products:[],selectedCategories:[],categories:["BAGUETTE","burger","tacos","muffin","texmex","pizza","boisson"],searchKey:"",panier:[]}},computed:{filteredProducts(){let e=[];return e=0===this.selectedCategories.length?this.products:this.products.filter((e=>this.selectedCategories.includes(e.category))),e.filter((e=>e.nameProduct.toLowerCase().includes(this.searchKey.toLowerCase())))}},methods:{toggleCategory(e){const t=this.selectedCategories.indexOf(e);-1===t?this.selectedCategories.push(e):this.selectedCategories.splice(t,1)},toggleMenu(e){this.products[e].Menu=!this.products[e].Menu}},mounted(){Gn.getAllProducts().then((e=>{const t=e.data.Allproduct,n=t.map((e=>e.hasOwnProperty("prixMenu")?{...e,Menu:!0}:e));this.products=n,console.log(this.products)})).catch((e=>{console.log(e)}))}},Qn=(0,s.Z)(Jn,[["render",Vn],["__scopeId","data-v-3f7c8142"]]),ea=Qn,ta={class:"layout"},na={class:"admin"};function aa(e,t,n,a,o,s){const l=(0,i.up)("burgerNavAdmin"),r=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",ta,[(0,i._)("div",na,[(0,i.Uk)("Admin Layout "),(0,i.Wm)(l),(0,i.Uk)(" ADMIN "),(0,i.Wm)(r)])])}const ia=(0,i._)("header",null," header",-1);function oa(e,t,n,a,o,s){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[ia,(0,i.Wm)(l,{to:"/admin/user/index"},{default:(0,i.w5)((()=>[(0,i.Uk)("Users")])),_:1}),(0,i.Uk)(" / "),(0,i.Wm)(l,{to:"/admin/products/index"},{default:(0,i.w5)((()=>[(0,i.Uk)("products")])),_:1}),(0,i.Uk)(" / "),(0,i.Wm)(l,{to:"/admin/content"},{default:(0,i.w5)((()=>[(0,i.Uk)("content")])),_:1}),(0,i.Uk)(" / "),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e)),class:"btn"},"Deconnexion")])}let sa=()=>je.get("/api/users"),la=e=>je.get("/api/users/"+e),ra=(e,t)=>je.patch("/api/users/"+e,t),da=e=>je.post("/api/users/",e),ca=e=>je["delete"]("/api/users/"+e);const ua={deleteUser:ca,createUser:da,getAllUsers:sa,getUser:la,updateUser:ra},ha={name:"AdminNav",methods:{logout(){Ze.logout(),this.$router.push("/")}}},ma=(0,s.Z)(ha,[["render",oa]]),pa=ma,ga={class:"navBar"},_a={class:"navUl"},va={class:"menu"},fa={class:"ul-link"};function wa(e,t,n,o,s,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ga,[(0,i.wy)((0,i._)("ul",_a,[(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/admin/user/index"},{default:(0,i.w5)((()=>[(0,i.Uk)("UTILISATEURS")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/admin/products/index"},{default:(0,i.w5)((()=>[(0,i.Uk)("PRODUITS")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/admin/content"},{default:(0,i.w5)((()=>[(0,i.Uk)("MARKETING")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{class:"navBarLink",to:"/admin/client"},{default:(0,i.w5)((()=>[(0,i.Uk)("Clients")])),_:1})])],512),[[a.F8,!s.menuIsActive]])]),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.menuIsActive=e)},null,512),[[a.e8,s.menuIsActive]]),(0,i._)("span",va,[(0,i._)("span",{class:(0,p.C_)(["exit",{halbaxit:s.menuIsActive}])},null,2),(0,i._)("img",{class:(0,p.C_)(["logo",{halba:s.menuIsActive}]),src:N},null,2)])]),(0,i._)("div",{onClick:t[1]||(t[1]=(...e)=>l.navigation&&l.navigation(...e)),onWheel:t[2]||(t[2]=(0,a.iM)((()=>{}),["prevent"])),onTouchmove:t[3]||(t[3]=(0,a.iM)((()=>{}),["prevent"])),onScroll:t[4]||(t[4]=(0,a.iM)((()=>{}),["prevent"])),class:(0,p.C_)([{showNavLink:s.menuIsActive},"navLink"])},[(0,i._)("ul",fa,[(0,i._)("li",null,[(0,i.Wm)(r,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/menu"},{default:(0,i.w5)((()=>[(0,i.Uk)("CARTE")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/admin/dashboard"},{default:(0,i.w5)((()=>[(0,i.Uk)("Admin")])),_:1})])])],34)],64)}const ba={name:"BurgerNav",data(){return{menuIsActive:!1}},computed:{},methods:{navigation(){this.menuIsActive=!1}}},ka=(0,s.Z)(ba,[["render",wa],["__scopeId","data-v-127c277a"]]),ya=ka,Da={name:"PublicLayout",components:{PublicNav:O,AdminNav:pa,burgerNavAdmin:ya}},Ca=(0,s.Z)(Da,[["render",aa]]),Ua=Ca,Ia={class:"admin"};function Ta(e,t,n,a,o,s){const l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",Ia,[(0,i.Uk)("Dashboard Layout "),(0,i.Wm)(l)])}const xa={name:"Dashboard"},Pa=(0,s.Z)(xa,[["render",Ta],["__scopeId","data-v-3dad5262"]]),Ma=Pa,Aa=e=>((0,i.dD)("data-v-c52fd6fa"),e=e(),(0,i.Cn)(),e),Ea={class:"admin"},La={class:"admin-content"},Oa=Aa((()=>(0,i._)("h2",null,"Liste des Utilisateurs",-1))),Sa={class:"content-wrap"},Wa={class:"btn"},Na=Aa((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"Utilisateur"),(0,i._)("th",null,"Tel"),(0,i._)("th",null,"Role"),(0,i._)("th",null,"email"),(0,i._)("th",null,"OPTIONS")])],-1))),Ya=["onClick"],za=["onClick"];function qa(e,t,n,a,o,s){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Ea,[(0,i._)("div",La,[Oa,(0,i._)("div",Sa,[(0,i._)("button",Wa,[(0,i.Wm)(l,{class:"link",to:"/admin/user/add"},{default:(0,i.w5)((()=>[(0,i.Uk)("AJOUTER UN UTILISATEUR")])),_:1})])]),(0,i._)("table",null,[Na,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.users,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:e._id},[(0,i._)("td",null,(0,p.zw)("#"+t),1),(0,i._)("td",null,(0,p.zw)(e.name+e.surname),1),(0,i._)("td",null,(0,p.zw)(e.phone),1),(0,i._)("td",null,(0,p.zw)(e.role),1),(0,i._)("td",null,(0,p.zw)(e.email),1),(0,i._)("td",null,[(0,i._)("button",{onClick:t=>s.goEditUser(e._id),class:"btn"},"Modifier",8,Ya),e._id!==o.adminId?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:n=>s.goDeleteUser(e._id,t),class:"btn delete"},"Supprimer",8,za)):(0,i.kq)("",!0)])])))),128))])])])])}const Ra={name:"userIndex",data(){return{userLogged:"",users:[],adminId:"6409c0663d01483e0549bb2c"}},methods:{goEditUser(e){this.$router.push({name:"userEdit",params:{id:e}})},goDeleteUser(e,t){ua.deleteUser(e).then((e=>{this.users.splice(t,1)})).catch((e=>console.log(e)))}},mounted(){ua.getAllUsers().then((e=>{this.users=e.data.users,console.log(this.users)})).catch((e=>{console.log(e),this.$router.push("/login")}))}},Xa=(0,s.Z)(Ra,[["render",qa],["__scopeId","data-v-c52fd6fa"]]),Fa=Xa,Va={class:"admin"},$a=(0,i._)("h2",null,"Edition Utilisateur",-1),Ba=(0,i._)("label",{for:"userName"},"ID",-1),Ha=(0,i._)("label",{for:"userSurname"},"ID",-1),Za=(0,i._)("label",{for:"userPhone"},"Tel",-1),Ka=(0,i._)("label",{for:"userEmail"},"Email",-1),ja=(0,i._)("button",{type:"submit",class:"btn"},"Modifier",-1);function Ga(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",Va,[(0,i.Uk)((0,p.zw)(s.user.userName)+" "+(0,p.zw)(n.id)+" ",1),$a,(0,i._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)((e=>l.editUser()),["prevent"]))},[Ba,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.user.name=e),required:""},null,512),[[a.nr,s.user.name]]),Ha,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.user.surname=e),required:""},null,512),[[a.nr,s.user.surname]]),Za,(0,i.wy)((0,i._)("input",{type:"tel",maxlength:"10",Pattern:"^0[0-9]{9}$",class:"field-long","onUpdate:modelValue":t[2]||(t[2]=e=>s.user.phone=e),required:""},null,512),[[a.nr,s.user.phone]]),Ka,(0,i.wy)((0,i._)("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=e=>s.user.email=e),required:""},null,512),[[a.nr,s.user.email]]),ja],32)])}const Ja={name:"userEdit",props:["id"],data(){return{user:{}}},methods:{editUser(){ua.updateUser(this.id,this.user).then((e=>{1==e.data.modif.acknowledged&&1==e.data.modif.matchedCount&&0==e.data.modif.modifiedCount?(console.log(e.data),console.log("aucune modif")):this.$router.push({name:"userIndex"})})).catch((e=>console.log(e)))}},mounted(){ua.getUser(this.id).then((e=>{this.user=e.data.User})).catch((e=>console.log(e)))}},Qa=(0,s.Z)(Ja,[["render",Ga]]),ei=Qa,ti=e=>((0,i.dD)("data-v-31a2e6a0"),e=e(),(0,i.Cn)(),e),ni={class:"admin"},ai={class:"form-style-1"},ii={key:0},oi=ti((()=>(0,i._)("b",null,"Corriger les erreurs suivantes",-1))),si=ti((()=>(0,i._)("label",null,"IDENTITE",-1))),li=ti((()=>(0,i._)("label",null,"EMAIL",-1))),ri=ti((()=>(0,i._)("label",null,"ROLE",-1))),di=ti((()=>(0,i._)("option",{value:"Manager"},"Manager",-1))),ci=ti((()=>(0,i._)("option",{value:"Cuisto"},"Cuisto",-1))),ui=ti((()=>(0,i._)("option",{value:"Caissier"},"Caissier",-1))),hi=ti((()=>(0,i._)("option",{value:"Livreur"},"Livreur",-1))),mi=[di,ci,ui,hi],pi=ti((()=>(0,i._)("label",{for:"phone"},"TELEPHONE",-1))),gi=ti((()=>(0,i._)("label",{for:"userPassword"},"mot de passe",-1))),_i=ti((()=>(0,i._)("li",null,[(0,i._)("button",{type:"submit",class:"btn"},"CREER")],-1)));function vi(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",ni,[(0,i._)("form",{onSubmit:t[7]||(t[7]=(0,a.iM)((e=>l.addUser()),["prevent"]))},[(0,i._)("ul",ai,[s.errors.length?((0,i.wg)(),(0,i.iD)("p",ii,[oi,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.errors,(e=>((0,i.wg)(),(0,i.iD)("li",null,(0,p.zw)(e),1)))),256))])])):(0,i.kq)("",!0),(0,i._)("li",null,[si,(0,i.wy)((0,i._)("input",{type:"text",name:"field1",class:"field-divided",placeholder:"Nom","onUpdate:modelValue":t[0]||(t[0]=e=>s.user.name=e),required:""},null,512),[[a.nr,s.user.name]]),(0,i.Uk)(),(0,i.wy)((0,i._)("input",{type:"text",name:"field2",class:"field-divided",placeholder:"Prénom","onUpdate:modelValue":t[1]||(t[1]=e=>s.user.surname=e),required:""},null,512),[[a.nr,s.user.surname]])]),(0,i._)("li",null,[li,(0,i.wy)((0,i._)("input",{type:"email",name:"field3",class:"field-long",placeholder:"email@exemple.com","onUpdate:modelValue":t[2]||(t[2]=e=>s.user.email=e),required:""},null,512),[[a.nr,s.user.email]])]),(0,i._)("li",null,[ri,(0,i.wy)((0,i._)("select",{name:"field4",class:"field-select","onUpdate:modelValue":t[3]||(t[3]=e=>s.user.role=e),required:""},mi,512),[[a.bM,s.user.role]])]),(0,i._)("li",null,[pi,(0,i.wy)((0,i._)("input",{type:"text",name:"field5",maxlength:"10",Pattern:"^0[0-9]{9}$",placeholder:"0607080910",class:"field-long","onUpdate:modelValue":t[4]||(t[4]=e=>s.user.phone=e),required:""},null,512),[[a.nr,s.user.phone]])]),(0,i._)("li",null,[gi,(0,i.wy)((0,i._)("input",{type:"password",name:"field6",placeholder:"Minimum 6 caractères",class:"field-long","onUpdate:modelValue":t[5]||(t[5]=e=>s.user.password=e),required:""},null,512),[[a.nr,s.user.password]])]),(0,i._)("li",null,[(0,i.wy)((0,i._)("input",{type:"password",name:"field7",placeholder:"Retapez le mot de passe",class:"field-long","onUpdate:modelValue":t[6]||(t[6]=e=>s.confirmPassword=e),required:""},null,512),[[a.nr,s.confirmPassword]])]),_i,(0,i.Uk)(" "+(0,p.zw)(this.user.phone),1)])],32)])}const fi={name:"userAdd",data(){return{user:{name:"",surname:"",role:"",phone:"",email:"",password:""},confirmPassword:"",errors:[]}},methods:{addUser(){this.errors=[],this.user.password!=this.confirmPassword&&this.errors.push("le mot de passe doit correspondre"),this.user.password.length<6&&this.errors.push("le mot de passe doit contenir au moins 6 caractères"),0==this.errors.length&&ua.createUser(this.user).then((e=>{console.log(e.data),this.$router.push({name:"userIndex"})})).catch((e=>console.log(e)))}}},wi=(0,s.Z)(fi,[["render",vi],["__scopeId","data-v-31a2e6a0"]]),bi=wi,ki=e=>((0,i.dD)("data-v-3cba6483"),e=e(),(0,i.Cn)(),e),yi={class:"admin"},Di={class:"admin-content"},Ci=ki((()=>(0,i._)("h2",null,"Liste des Utilisateurs",-1))),Ui={class:"content-wrap"},Ii={class:"btn"},Ti=ki((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"Utilisateur"),(0,i._)("th",null,"Tel"),(0,i._)("th",null,"Role"),(0,i._)("th",null,"email"),(0,i._)("th",null,"OPTIONS")])],-1))),xi=["onClick"],Pi=["onClick"];function Mi(e,t,n,a,o,s){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",yi,[(0,i._)("div",Di,[Ci,(0,i._)("div",Ui,[(0,i._)("button",Ii,[(0,i.Wm)(l,{class:"link",to:"/admin/user/add"},{default:(0,i.w5)((()=>[(0,i.Uk)("AJOUTER UN UTILISATEUR")])),_:1})])]),(0,i._)("table",null,[Ti,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.users,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:e._id},[(0,i._)("td",null,(0,p.zw)("#"+t),1),(0,i._)("td",null,(0,p.zw)(e.name+e.surname),1),(0,i._)("td",null,(0,p.zw)(e.phone),1),(0,i._)("td",null,(0,p.zw)(e.role),1),(0,i._)("td",null,(0,p.zw)(e.email),1),(0,i._)("td",null,[(0,i._)("button",{onClick:t=>s.goEditUser(e._id),class:"btn"},"Modifier",8,xi),e._id!==o.adminId?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:n=>s.goDeleteUser(e._id,t),class:"btn delete"},"Supprimer",8,Pi)):(0,i.kq)("",!0)])])))),128))])])])])}const Ai={name:"userIndex",data(){return{userLogged:"",users:[],adminId:"6409c0663d01483e0549bb2c"}},methods:{goEditUser(e){this.$router.push({name:"userEdit",params:{id:e}})},goDeleteUser(e,t){ua.deleteUser(e).then((e=>{this.users.splice(t,1)})).catch((e=>console.log(e)))}},mounted(){ua.getAllUsers().then((e=>{this.users=e.data.users,console.log(this.users)})).catch((e=>{console.log(e),this.$router.push("/login")}))}},Ei=(0,s.Z)(Ai,[["render",Mi],["__scopeId","data-v-3cba6483"]]),Li=Ei,Oi=e=>((0,i.dD)("data-v-56d1578c"),e=e(),(0,i.Cn)(),e),Si={class:"admin"},Wi={class:"admin-content"},Ni=Oi((()=>(0,i._)("h1",null,"Liste des Produits",-1))),Yi=Oi((()=>(0,i._)("h2",null,"Assurez-vous que votre menu est correct",-1))),zi={class:"content-wrap"},qi=Oi((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"index"),(0,i._)("th",null,"NOM"),(0,i._)("th",null,"DESCRIPTION"),(0,i._)("th",null,"IMAGE"),(0,i._)("th",null,"PRIX"),(0,i._)("th",null,"DISPO"),(0,i._)("th",null,"OPTIONS")])],-1))),Ri=["src"],Xi={class:"caseBtn"},Fi=["onClick"],Vi=["onClick"];function $i(e,t,n,a,o,s){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Si,[(0,i._)("div",Wi,[(0,i.Wm)(l,{class:"navBarLink",to:"/admin/products/add"},{default:(0,i.w5)((()=>[(0,i.Uk)("ajout produit")])),_:1}),Ni,Yi,(0,i._)("div",zi,[(0,i._)("table",null,[qi,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.products,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:e._id},[(0,i._)("td",null,(0,p.zw)("#"+t),1),(0,i._)("td",null,(0,p.zw)(e.nameProduct),1),(0,i._)("td",null,(0,p.zw)(e.descriptionProduct),1),(0,i._)("td",null,[(0,i._)("img",{src:e.imageUrl,class:"vignette"},null,8,Ri)]),(0,i._)("td",null,(0,p.zw)(e.prixProduct.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1),(0,i._)("td",null,[(0,i._)("div",{class:(0,p.C_)(e.available?"circle green":"circle red")},null,2)]),(0,i._)("td",null,[(0,i._)("div",Xi,[(0,i._)("button",{onClick:t=>s.goEditProduct(e._id),class:"btn"},"Modifier",8,Fi),(0,i._)("button",{onClick:n=>s.goDeleteProduct(e._id,t),class:"btn delete"},"Supprimer",8,Vi)])])])))),128))])])])])])}const Bi={name:"productIndex",data(){return{products:[]}},methods:{goEditProduct(e){this.$router.push({name:"productEdit",params:{id:e}})},goDeleteProduct(e,t){Gn.deleteProduct(e).then((e=>{console.log(e.data.message),this.products.splice(t,1)})).catch((e=>console.log(e)))}},mounted(){Gn.getAllProducts().then((e=>{this.products=e.data.Allproduct})).catch((e=>{console.log(e)}))}},Hi=(0,s.Z)(Bi,[["render",$i],["__scopeId","data-v-56d1578c"]]),Zi=Hi,Ki=e=>((0,i.dD)("data-v-6b16e0f6"),e=e(),(0,i.Cn)(),e),ji={class:"admin"},Gi={class:"form-style-1"},Ji={key:0},Qi=Ki((()=>(0,i._)("b",null,"Corriger les erreurs suivantes",-1))),eo=Ki((()=>(0,i._)("label",{for:"nom"},"Nom du Produit",-1))),to=Ki((()=>(0,i._)("label",{for:"description"},"description",-1))),no=Ki((()=>(0,i._)("label",{for:"prixProduit"},"Prix",-1))),ao=Ki((()=>(0,i._)("label",{for:"prixMenu"},"Prix en Menu:",-1))),io=Ki((()=>(0,i._)("label",null,"CATEGORIE",-1))),oo=Ki((()=>(0,i._)("option",{value:"burger"},"BURGER",-1))),so=Ki((()=>(0,i._)("option",{value:"tacos"},"TACOS",-1))),lo=Ki((()=>(0,i._)("option",{value:"sandwichs"},"SANDWICHS",-1))),ro=Ki((()=>(0,i._)("option",{value:"texmex"},"TEXMEX",-1))),co=[oo,so,lo,ro],uo={class:"switch"},ho=Ki((()=>(0,i._)("span",{class:"slider round"},null,-1))),mo=Ki((()=>(0,i._)("li",null,[(0,i._)("button",{type:"submit",class:"btn"},"CREER")],-1)));function po(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",ji,[(0,i._)("form",{enctype:"multipart/form-data",onSubmit:t[7]||(t[7]=(0,a.iM)((e=>l.addProduct()),["prevent"]))},[(0,i._)("ul",Gi,[s.errors.length?((0,i.wg)(),(0,i.iD)("p",Ji,[Qi,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.errors,(e=>((0,i.wg)(),(0,i.iD)("li",null,(0,p.zw)(e),1)))),256))])])):(0,i.kq)("",!0),(0,i._)("li",null,[eo,(0,i.wy)((0,i._)("input",{type:"text",name:"nom",class:"field-divided",placeholder:"Nom","onUpdate:modelValue":t[0]||(t[0]=e=>s.product.nameProduct=e),required:""},null,512),[[a.nr,s.product.nameProduct]])]),(0,i._)("li",null,[to,(0,i.wy)((0,i._)("input",{type:"text",name:"description",class:"field-long",placeholder:"description","onUpdate:modelValue":t[1]||(t[1]=e=>s.product.descriptionProduct=e),required:""},null,512),[[a.nr,s.product.descriptionProduct]])]),(0,i._)("li",null,[no,(0,i.wy)((0,i._)("input",{type:"number",name:"prixProduit",step:"0.10",class:"field-long",placeholder:"en Euros",pattern:"^\\d+(\\.\\d{1,2})?$",max:"99.99","onUpdate:modelValue":t[2]||(t[2]=e=>s.product.prixProduct=e),required:""},null,512),[[a.nr,s.product.prixProduct]])]),(0,i._)("li",null,[ao,(0,i.wy)((0,i._)("input",{type:"number",name:"prixMenu",step:"0.10",class:"field-long",placeholder:"en Euros",pattern:"^\\d+(\\.\\d{1,2})?$",max:"99.99","onUpdate:modelValue":t[3]||(t[3]=e=>s.product.prixMenu=e)},null,512),[[a.nr,s.product.prixMenu]])]),(0,i._)("li",null,[io,(0,i.wy)((0,i._)("select",{name:"field4",class:"field-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.product.category=e),required:""},co,512),[[a.bM,s.product.category]])]),(0,i._)("label",uo,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>this.product.available=e)},null,512),[[a.e8,this.product.available]]),ho]),(0,i.Uk)(" "+(0,p.zw)(this.product.available?"disponible":"indisponible")+" ",1),(0,i._)("li",null,[(0,i._)("input",{type:"file",onChange:t[6]||(t[6]=(...e)=>l.selectFile&&l.selectFile(...e)),required:""},null,32)]),mo])],32)])}const go={name:"productAdd",data(){return{product:{nameProduct:"",descriptionProduct:"",prixProduct:null,prixMenu:null,image:null,category:"",available:!0},errors:[]}},methods:{selectFile(e){this.product.image=e.target.files[0]},addProduct(){const e=new FormData;e.append("nameProduct",this.product.nameProduct),e.append("prixProduct",this.product.prixProduct),e.append("prixMenu",this.product.prixMenu),e.append("descriptionProduct",this.product.descriptionProduct),e.append("image",this.product.image),e.append("category",this.product.category),e.append("available",this.product.available),Gn.createProduct(e).then((e=>{console.log(e.data),this.$router.push({name:"productIndex"})})).catch((e=>console.log(e)))}}},_o=(0,s.Z)(go,[["render",po],["__scopeId","data-v-6b16e0f6"]]),vo=_o,fo=e=>((0,i.dD)("data-v-5221d967"),e=e(),(0,i.Cn)(),e),wo={class:"admin"},bo={class:"form-style-1"},ko={key:0},yo=fo((()=>(0,i._)("b",null,"Corriger les erreurs suivantes",-1))),Do=fo((()=>(0,i._)("label",{for:"nom"},"Nom du Produit",-1))),Co=fo((()=>(0,i._)("label",{for:"description'"},"description",-1))),Uo=fo((()=>(0,i._)("label",{for:"prix"},"Prix :",-1))),Io={class:"switch"},To=fo((()=>(0,i._)("span",{class:"slider round"},null,-1))),xo=fo((()=>(0,i._)("li",null,[(0,i._)("button",{type:"submit",class:"btn"},"MODIFIER")],-1)));function Po(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",wo,[(0,i.Uk)((0,p.zw)(n.id)+" ",1),(0,i._)("form",{enctype:"multipart/form-data",onSubmit:t[5]||(t[5]=(0,a.iM)((e=>l.editProduct()),["prevent"]))},[(0,i._)("ul",bo,[s.errors.length?((0,i.wg)(),(0,i.iD)("p",ko,[yo,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.errors,(e=>((0,i.wg)(),(0,i.iD)("li",null,(0,p.zw)(e),1)))),256))])])):(0,i.kq)("",!0),(0,i._)("li",null,[Do,(0,i.wy)((0,i._)("input",{type:"text",name:"nom",class:"field-divided",placeholder:"Nom","onUpdate:modelValue":t[0]||(t[0]=e=>s.product.nameProduct=e),required:""},null,512),[[a.nr,s.product.nameProduct]])]),(0,i._)("li",null,[Co,(0,i.wy)((0,i._)("input",{type:"text",name:"description",class:"field-long",placeholder:"description","onUpdate:modelValue":t[1]||(t[1]=e=>s.product.descriptionProduct=e),required:""},null,512),[[a.nr,s.product.descriptionProduct]])]),(0,i._)("li",null,[Uo,(0,i.wy)((0,i._)("input",{type:"number",name:"prix",step:"0.10",class:"field-long",placeholder:"en Euros",pattern:"^\\d+(\\.\\d{1,2})?$",max:"99.99","onUpdate:modelValue":t[2]||(t[2]=e=>s.product.prixProduct=e),required:""},null,512),[[a.nr,s.product.prixProduct]])]),(0,i._)("li",null,[(0,i._)("label",Io,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>this.product.available=e)},null,512),[[a.e8,this.product.available]]),To]),(0,i.Uk)(" "+(0,p.zw)(this.product.available?"disponible":"indisponible"),1)]),(0,i._)("li",null,[(0,i._)("input",{type:"file",onChange:t[4]||(t[4]=(...e)=>l.selectFile&&l.selectFile(...e))},null,32)]),xo])],32),(0,i.Uk)(" "+(0,p.zw)(this.product),1)])}const Mo={name:"productEdit",props:["id"],data(){return{product:{nameProduct:"",prixProduct:null,image:null,category:"",available:!0,descriptionProduct:""},errors:[]}},methods:{selectFile(e){this.product.image=e.target.files[0]},editProduct(){const e=new FormData;e.append("nameProduct",this.product.nameProduct),e.append("prixProduct",this.product.prixProduct),e.append("descriptionProduct",this.product.descriptionProduct),e.append("image",this.product.image),e.append("category",this.product.category),e.append("available",this.product.available),Gn.updateProduct(this.id,e).then((e=>{1==e.data.modif.acknowledged&&1==e.data.modif.matchedCount&&0==e.data.modif.modifiedCount?console.log("aucune modif"):this.$router.push({name:"productIndex"})})).catch((e=>console.log(e)))}},mounted(){Gn.getProduct(this.id).then((e=>{this.product=e.data.product})).catch((e=>console.log(e)))}},Ao=(0,s.Z)(Mo,[["render",Po],["__scopeId","data-v-5221d967"]]),Eo=Ao,Lo=n.p+"img/icons.3f3befbd.svg",Oo=e=>((0,i.dD)("data-v-2f1db20f"),e=e(),(0,i.Cn)(),e),So=Lo+"#upload",Wo={class:"admin"},No=Oo((()=>(0,i._)("h1",{id:"homeManager-head"},"HOME MANAGER",-1))),Yo={class:"section-marketing"},zo=Oo((()=>(0,i._)("h1",null,"LE FEED MARKETING",-1))),qo={class:"container-grid"},Ro=["onSubmit"],Xo={class:"banner-content"},Fo=["for"],Vo=Oo((()=>(0,i._)("svg",{class:"icon upload-icon"},[(0,i._)("use",{href:So})],-1))),$o=["id","onChange"],Bo={class:"picture"},Ho=["src"],Zo={class:"textWrap"},Ko={class:"cardText"},jo=["onClick"],Go=["onUpdate:modelValue"],Jo={key:0,class:"btn-textarea"},Qo=["onClick"],es=["onUpdate:modelValue"],ts={key:0,class:"btn-textarea"},ns=Oo((()=>(0,i._)("button",{type:"submit",class:"btn green"},"PUBLIER",-1))),as=["onClick"];function is(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",Wo,[No,(0,i._)("section",Yo,[zo,(0,i._)("div",qo,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.home,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"banner",key:e._id},[(0,i._)("form",{enctype:"multipart/form-data",onSubmit:(0,a.iM)((e=>l.editPost("marketing",t)),["prevent"])},[(0,i._)("div",Xo,[(0,i._)("label",{for:"changeImg"+t,class:"label-changeFile"},[Vo,(0,i._)("input",{class:"changeFile",id:"changeImg"+t,type:"file",onChange:e=>l.selectFile1(e,t),accept:"image/png, image/jpg, image/jpeg"},null,40,$o)],8,Fo),(0,i._)("div",Bo,[(0,i._)("img",{class:(0,p.C_)(["oldImg",{newImg:e.newFile}]),src:e.imgPost},null,10,Ho)])]),(0,i._)("div",Zo,[(0,i._)("div",Ko,[(0,i._)("div",{class:"edit-card",onClick:e=>s.activeIndex="title"+t},[(0,i.wy)((0,i._)("textarea",{class:(0,p.C_)([{cardFocus:s.activeIndex==="title"+t},"card-title"]),type:"text",rows:"1",maxlength:"20",pattern:"[A-Za-z0-9 ]+","onUpdate:modelValue":t=>e.titlePost=t},"\n                                                                                        ",10,Go),[[a.nr,e.titlePost]]),s.activeIndex==="title"+t?((0,i.wg)(),(0,i.iD)("div",Jo)):(0,i.kq)("",!0)],8,jo),(0,i._)("div",{class:"edit-card",onClick:e=>s.activeIndex="description"+t},[(0,i.wy)((0,i._)("textarea",{class:(0,p.C_)([{cardFocus:s.activeIndex==="description"+t},"card-description"]),type:"text",rows:"2",maxlength:"90","onUpdate:modelValue":t=>e.descriptionPost=t},"\n                                                                                        ",10,es),[[a.nr,e.descriptionPost]]),s.activeIndex==="description"+t?((0,i.wg)(),(0,i.iD)("div",ts)):(0,i.kq)("",!0)],8,Qo)]),ns,(0,i._)("button",{class:"btn",onClick:(0,a.iM)((e=>l.cancelEdit("marketing",t)),["stop","prevent"])},"annuler",8,as)])],40,Ro)])))),128))])])])}const os={name:"homeEdit",components:{},data(){return{home:[],originalData:[],activeIndex:"#1C1C1C",titleColor:"#1C1C1C",navColor:"#1C1C1C",btnColor:"#1C1C1C"}},methods:{...(0,K.OI)(["changePublicStyle"]),updatePublicStyle(){this.changePublicStyle(newStyle)},cancelEdit(e,t){"marketing"===e&&(this.home[t].titlePost=this.originalData[t].titlePost,this.home[t].descriptionPost=this.originalData[t].descriptionPost,this.home[t].imgPost=this.originalData[t].imgPost,this.home[t].newFile=null)},validModif(e){"description"===e&&(this.home.descriptionPost=this.description),"cardTitle"===e&&(this.home.titlePost=this.cardTitle),this.activeIndex=null},selectFileHero(e){const t=e.target.files[0];t&&(this.home.imgHero=URL.createObjectURL(t),this.home.newFileHero=t)},selectFile1(e,t){const n=e.target.files[0];n&&(this.home[t].imgPost=URL.createObjectURL(n),this.home[t].newFile=n)},createPost(e){const t=new FormData;t.append("titlePost",this.home[e].titlePost),t.append("descriptionPost",this.home[e].descriptionPost),this.home[e].newFile&&t.append("imgPost",this.home[e].newFile),et.createPost(t).then((e=>{console.log(e)})).catch((e=>console.log(e)))},editPost(e,t){if("marketing"===e){const e=new FormData;e.append("titlePost",this.home[t].titlePost),e.append("descriptionPost",this.home[t].descriptionPost),this.home[t].newFile&&e.append("imgPost",this.home[t].newFile),et.postContent(this.home[t]._id,e).then((e=>{console.log(e),this.home[t].newFile=null,this.originalData[t].imgPost=this.home[t].imgPost})).catch((e=>console.log(e)))}}},computed:{...(0,K.Se)(["getPublicStyle"])},mounted(){et.getContent().then((e=>{this.originalData=JSON.parse(JSON.stringify(e.data.home)),this.home=e.data.home,console.log(this.home)})).catch((e=>{console.log(e)}))}},ss=(0,s.Z)(os,[["render",is],["__scopeId","data-v-2f1db20f"]]),ls=ss,rs={class:"admin"},ds=(0,i._)("h2",null,"Authentification",-1),cs=(0,i._)("label",null,"Email:",-1),us=(0,i._)("label",null,"Mot de passe:",-1),hs=(0,i._)("button",{type:"submit",class:"btn"},"Se connecter",-1);function ms(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",rs,[ds,(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[cs,(0,i.wy)((0,i._)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.email=e),required:"",autocomplete:"username"},null,512),[[a.nr,s.credentials.email]]),us,(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.password=e),required:"",autocomplete:"current-password"},null,512),[[a.nr,s.credentials.password]]),hs],32)])}const ps={name:"login",data(){return{credentials:{email:"",password:""}}},methods:{login(){Ze.login(this.credentials).then((e=>{Ze.saveToken(e.data.token),this.$router.push("/admin/dashboard")})).catch((e=>console.log(e)))}},components:{PublicNav:O,BurgerNav:$}},gs=(0,s.Z)(ps,[["render",ms]]),_s=gs,vs={class:"admin"},fs=(0,i._)("h2",null,"S'inscrire",-1),ws=(0,i._)("label",null,"Username",-1),bs=(0,i._)("label",null,"Email:",-1),ks=(0,i._)("label",null,"Mot de passe:",-1),ys=(0,i._)("button",{type:"submit"},"Se connecter",-1);function Ds(e,t,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",vs,[fs,(0,i._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>l.signup&&l.signup(...e)),["prevent"]))},[ws,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.name=e),required:"",autocomplete:"usernamed"},null,512),[[a.nr,s.credentials.name]]),bs,(0,i.wy)((0,i._)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.email=e),required:""},null,512),[[a.nr,s.credentials.email]]),ks,(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>s.credentials.password=e),required:"",autocomplete:"current-password"},null,512),[[a.nr,s.credentials.password]]),ys],32)])}const Cs={name:"signup",data(){return{credentials:{name:"",email:"",password:""}}},methods:{signup(){Ze.signup(this.credentials).then((e=>{Ze.saveToken(e.data.token),this.$router.push("/admin/dashboard")})).catch((e=>console.log(e)))}},components:{PublicNav:O}},Us=(0,s.Z)(Cs,[["render",Ds]]),Is=Us;function Ts(e){let t=sessionStorage.getItem("token");if(t)return!0;Ms.push("/login")}const xs=[{path:"/",name:"public",component:J,children:[{path:"/",name:"home",component:Dn},{path:"/about",name:"about",component:oe},{path:"/menu",name:"menu",component:ea}]},{path:"/admin",name:"admin",component:Ua,children:[{path:"dashboard",name:"Dashboard",component:Ma,meta:{requireAuth:!0}},{path:"user/index",name:"userIndex",component:Fa,meta:{requireAuth:!0},children:[{path:"user/add",name:"userAdd",component:bi,meta:{requireAuth:!0}},{path:"user/edit",name:"userEdit",component:ei,meta:{requireAuth:!0}}]},{path:"user/add",name:"userAdd",component:bi,meta:{requireAuth:!0}},{path:"user/edit",name:"userEdit",component:ei,meta:{requireAuth:!0}},{path:"client",name:"clientIndex",component:Li,meta:{requireAuth:!0}},{path:"content",name:"homeEdit",component:ls},{path:"user/edit/:id(\\d+)",name:"userEdit",component:ei,props:!0,meta:{requireAuth:!0}},{path:"products/index",name:"productIndex",component:Zi},{path:"products/add",name:"productAdd",component:vo},{path:"products/edit/:id(\\d+)",name:"productEdit",component:Eo,props:!0},{path:"/:patchMatch(.*)*",redirect:"/admin/dashboard"}]},{path:"/signup",name:"signup",component:Is},{path:"/login",name:"login",component:_s},{path:"/:patchMatch(.*)*",redirect:"/"}],Ps=(0,c.p7)({history:(0,c.PO)("/startup/"),routes:xs});Ps.beforeEach(((e,t,n)=>{e.meta.requireAuth&&Ts(),n()}));const Ms=Ps,As=(0,K.MT)({state:{publicStyle:{bgColor:"#f5ebdc",color:"#ffff"}},getters:{getPublicStyle:e=>t=>e.publicStyle[t]},mutations:{changePublicStyle(e,t){e.publicStyle.color=t}},actions:{},modules:{}}),Es=(0,a.ri)(d);Es.provide("socket",Jt),Es.use(As),Es.use(Ms),Es.mount("#app")},858:(e,t,n)=>{"use strict";e.exports=n.p+"img/cloudy_to_clear_icon.bee50d67.png"},600:(e,t,n)=>{"use strict";e.exports=n.p+"img/foggy_icon.fc0581f9.png"},530:(e,t,n)=>{"use strict";e.exports=n.p+"img/rainy_icon.9b145ba5.png"},200:(e,t,n)=>{"use strict";e.exports=n.p+"img/sleet_drizzle_icon.74b2990f.png"},174:(e,t,n)=>{"use strict";e.exports=n.p+"img/snowy_icon.84ae06c5.png"},408:(e,t,n)=>{"use strict";e.exports=n.p+"img/thundery_icon.dc0e649c.png"}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,a,i,o)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){for(var[a,i,o]=e[c],l=!0,r=0;r<a.length;r++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](a[r])))?a.splice(r--,1):(l=!1,o<s&&(s=o));if(l){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,i,o]}})(),(()=>{n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/startup/"})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var i,o,[s,l,r]=a,d=0;if(s.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(r)var c=r(n)}for(t&&t(a);d<s.length;d++)o=s[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},a=self["webpackChunksiteweb"]=self["webpackChunksiteweb"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[998],(()=>n(685)));a=n.O(a)})();
//# sourceMappingURL=app.9c468e9d.js.map
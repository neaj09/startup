(()=>{"use strict";var e={740:(e,t,n)=>{var o=n(963),l=n(252);function i(e,t,n,o,i,s){const r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(r)}const s={name:"App",mounted(){this.$store.dispatch("initializeData")}};var r=n(744);const a=(0,r.Z)(s,[["render",i]]),u=a;var c=n(201),d=n(577);function p(e,t,n,o,i,s){const r=(0,l.up)("BurgerNav"),a=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",{id:"public",style:(0,d.j5)({backgroundColor:e.publicStyle.backgroundColor})},[(0,l.Wm)(r),(0,l.Wm)(a)],4)}function m(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",{class:"round-div",ref:"roundDiv",onMousedown:t[0]||(t[0]=(0,o.iM)(((...e)=>r.startDrag&&r.startDrag(...e)),["stop","prevent"])),onMouseup:t[1]||(t[1]=(0,o.iM)(((...e)=>r.endDrag&&r.endDrag(...e)),["stop","prevent"])),onTouchstart:t[2]||(t[2]=(0,o.iM)(((...e)=>r.startDragTouch&&r.startDragTouch(...e)),["stop","prevent"])),onTouchmove:t[3]||(t[3]=(0,o.iM)(((...e)=>r.doDragTouch&&r.doDragTouch(...e)),["stop","prevent"])),onTouchend:t[4]||(t[4]=(0,o.iM)(((...e)=>r.endDrag&&r.endDrag(...e)),["stop","prevent"]))},null,544)}const h=n.p+"img/logo.fcaff911.svg",g={class:"navBar"},_={class:"navUl"},v={class:"ul-link"};function f(e,t,n,i,s,r){const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:"move",ref:"roundDiv",onMousedown:t[0]||(t[0]=(0,o.iM)(((...e)=>r.startDrag&&r.startDrag(...e)),["prevent","stop"])),onTouchstart:t[1]||(t[1]=(0,o.iM)(((...e)=>r.startDragTouch&&r.startDragTouch(...e)),["prevent"])),onTouchmove:t[2]||(t[2]=(0,o.iM)(((...e)=>r.doDragTouch&&r.doDragTouch(...e)),["prevent"])),onTouchend:t[3]||(t[3]=(...e)=>r.endDragTouch&&r.endDragTouch(...e))},[(0,l._)("span",{class:(0,d.C_)(["menu",{shadowMenu:s.menuIsActive}])},[(0,l._)("span",{class:(0,d.C_)(["exit",{halbaxit:s.menuIsActive}])},null,2),(0,l._)("img",{class:(0,d.C_)(["logo",{halba:s.menuIsActive}]),src:h},null,2)],2)],544),(0,l._)("div",g,[(0,l.wy)((0,l._)("ul",_,[(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("CARTE")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("CARTE")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1})])],512),[[o.F8,!s.menuIsActive]])]),(0,l._)("div",{onClick:t[4]||(t[4]=(...e)=>r.navigation&&r.navigation(...e)),onWheel:t[5]||(t[5]=(0,o.iM)((()=>{}),["prevent"])),onTouchmove:t[6]||(t[6]=(0,o.iM)((()=>{}),["prevent"])),onScroll:t[7]||(t[7]=(0,o.iM)((()=>{}),["prevent"])),class:(0,d.C_)([{showNavLink:s.menuIsActive},"navLink"])},[(0,l._)("ul",v,[(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("LA CARTE")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/login"},{default:(0,l.w5)((()=>[(0,l.Uk)("Login")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/signup"},{default:(0,l.w5)((()=>[(0,l.Uk)("Signup")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/about"},{default:(0,l.w5)((()=>[(0,l.Uk)("About")])),_:1})])])],34)],64)}const b={name:"newdeliceNav",data(){return{menuIsActive:!1,isDragging:!1,currentX:0,currentY:0,initialX:0,initialY:0,xOffset:0,yOffset:0}},computed:{},methods:{navigation(){this.menuIsActive=!1},startDrag(e){this.xDetectClick=e.clientX,this.yDetectClick=e.clientY,this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0,document.addEventListener("mousemove",this.doDrag),document.addEventListener("mouseup",this.endDrag))},startDragTouch(e){this.xDetectTouch=e.touches[0].clientX,this.yDetectTouch=e.touches[0].clientY,this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0,document.addEventListener("touchmove",this.doDragTouch),document.addEventListener("touchend",this.endDragTouch))},doDrag(e){this.isDragging&&(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},doDragTouch(e){this.isDragging&&(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},endDrag(e){this.isDragging=!1,this.xDetectClick===e.clientX&&this.yDetectClick===e.clientY&&(this.menuIsActive=!this.menuIsActive),this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,document.removeEventListener("mousemove",this.doDrag),document.removeEventListener("mouseup",this.endDrag)},endDragTouch(e){this.isDragging=!1,this.xDetectTouch===e.changedTouches[0].clientX&&this.yDetectTouch===e.changedTouches[0].clientY&&(this.menuIsActive=!this.menuIsActive),this.initialX=e.changedTouches[0].clientX,this.initialY=e.changedTouches[0].clientY,document.removeEventListener("touchmove",this.doDragTouch),document.removeEventListener("touchend",this.endDragTouch)},setTranslate(e,t,n){n.style.transform=`translate3d(${e}px, ${t}px, 0)`}}},w=(0,r.Z)(b,[["render",f],["__scopeId","data-v-13ed7e70"]]),y=w,k={name:"RoundDiv",components:{newdeliceNav:y},data(){return{isDragging:!1,currentX:0,currentY:0,initialX:0,initialY:0,xOffset:0,yOffset:0}},methods:{startDrag(e){this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0,document.addEventListener("mousemove",this.doDrag))},startDragTouch(e){this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset,e.target===this.$refs.roundDiv&&(this.isDragging=!0)},doDrag(e){this.isDragging&&(e.preventDefault(),this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},doDragTouch(e){this.isDragging&&(e.preventDefault(),this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY,this.$refs.roundDiv))},endDrag(){this.initialX=this.currentX,this.initialY=this.currentY,this.isDragging=!1,document.removeEventListener("mousemove",this.doDrag)},setTranslate(e,t,n){n.style.transform=`translate3d(${e}px, ${t}px, 0)`}}},C=(0,r.Z)(k,[["render",m]]),D=C,P=e=>((0,l.dD)("data-v-22f356cd"),e=e(),(0,l.Cn)(),e),U={class:"navbar"},x={class:"dropdown"},I=P((()=>(0,l._)("a",{class:"link",href:""},"ADMIN",-1))),E={class:"dropdown-content"};function T(e,t,n,o,i,s){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("nav",U,[(0,l._)("ul",null,[(0,l._)("li",null,[(0,l.Wm)(r,{class:"link",to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(r,{class:"link",to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("LA CARTE")])),_:1})]),(0,l._)("li",x,[I,(0,l._)("div",E,[(0,l.Wm)(r,{class:"dropdown-link",to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1}),(0,l.Wm)(r,{class:"dropdown-link",to:"/login"},{default:(0,l.w5)((()=>[(0,l.Uk)("Login")])),_:1}),(0,l.Wm)(r,{class:"dropdown-link",to:"/signup"},{default:(0,l.w5)((()=>[(0,l.Uk)("Signup")])),_:1})])]),(0,l._)("li",null,[(0,l.Wm)(r,{class:"link",to:"/about"},{default:(0,l.w5)((()=>[(0,l.Uk)("About")])),_:1})])])])}const S={name:"PublicNav"},A=(0,r.Z)(S,[["render",T],["__scopeId","data-v-22f356cd"]]),M=A,F={class:"navMobile"};function L(e,t,n,o,i,s){const r=(0,l.up)("BurgerNav");return(0,l.wg)(),(0,l.iD)("nav",F,[(0,l.Wm)(r)])}const O=n.p+"img/logo.f839fd85.png",W={class:"navBar"},Y={class:"navUl"},H={class:"menu"},R={class:"ul-link"};function N(e,t,n,i,s,r){const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",W,[(0,l.wy)((0,l._)("ul",Y,[(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("CARTE")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1})])],512),[[o.F8,!s.menuIsActive]])]),(0,l._)("label",null,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.menuIsActive=e)},null,512),[[o.e8,s.menuIsActive]]),(0,l._)("span",H,[(0,l._)("span",{class:(0,d.C_)(["exit",{halbaxit:s.menuIsActive}])},null,2),(0,l._)("img",{class:(0,d.C_)(["logo",{halba:s.menuIsActive}]),src:O},null,2)])]),(0,l._)("div",{onClick:t[1]||(t[1]=(...e)=>r.navigation&&r.navigation(...e)),onWheel:t[2]||(t[2]=(0,o.iM)((()=>{}),["prevent"])),onTouchmove:t[3]||(t[3]=(0,o.iM)((()=>{}),["prevent"])),onScroll:t[4]||(t[4]=(0,o.iM)((()=>{}),["prevent"])),class:(0,d.C_)([{showNavLink:s.menuIsActive},"navLink"])},[(0,l._)("ul",R,[(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("LA CARTE")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/login"},{default:(0,l.w5)((()=>[(0,l.Uk)("Login")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/signup"},{default:(0,l.w5)((()=>[(0,l.Uk)("Signup")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"link",to:"/about"},{default:(0,l.w5)((()=>[(0,l.Uk)("About")])),_:1})])])],34)],64)}const q={name:"BurgerNav",data(){return{menuIsActive:!1}},methods:{navigation(){this.menuIsActive=!1}}},X=(0,r.Z)(q,[["render",N],["__scopeId","data-v-e3279320"]]),z=X,V={name:"NavMobile",components:{BurgerNav:z}},B=(0,r.Z)(V,[["render",L],["__scopeId","data-v-2f1f3c34"]]),$=B;var Z=n(907);const j={name:"PublicLayout",components:{PublicNav:M,NavMobile:$,BurgerNav:z,testComponent:D},computed:{...(0,Z.rn)(["publicStyle"])},methods:{}},K=(0,r.Z)(j,[["render",p],["__scopeId","data-v-920f252c"]]),G=K,J={class:"about"},Q=(0,l._)("h1",null,"This is an about page",-1),ee=[Q];function te(e,t){return(0,l.wg)(),(0,l.iD)("div",J,ee)}const ne={},oe=(0,r.Z)(ne,[["render",te]]),le=oe,ie=e=>((0,l.dD)("data-v-7e7f4c80"),e=e(),(0,l.Cn)(),e),se={class:"mainImage"},re=["src"],ae={class:"section-marketing"},ue={class:"container-grid"},ce={class:"banner-content"},de={class:"picture"},pe=["src"],me={class:"textWrap"},he={class:"cardText"},ge={class:"card-title"},_e={class:"card-description"},ve=ie((()=>(0,l._)("button",{class:"btn"},"DECOUVRIR",-1)));function fe(e,t,n,o,i,s){const r=(0,l.up)("orderBtn");return(0,l.wg)(),(0,l.iD)("div",{class:"home",style:(0,d.j5)({backgroundColor:e.publicStyle.homeColor})},[(0,l._)("div",se,[i.hero?((0,l.wg)(),(0,l.iD)("img",{key:0,class:"bigImg",src:i.hero,alt:""},null,8,re)):(0,l.kq)("",!0)]),(0,l.Wm)(r),(0,l._)("section",ae,[(0,l._)("div",ue,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.home,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"banner",key:e._id},[(0,l._)("div",ce,[(0,l._)("div",de,[(0,l._)("img",{src:e.imgPost},null,8,pe)])]),(0,l._)("div",me,[(0,l._)("div",he,[(0,l._)("div",ge,(0,d.zw)(e.titlePost),1),(0,l._)("div",_e,(0,d.zw)(e.descriptionPost),1)]),ve])])))),128))])])],4)}var be=n(154);let we=e=>Ie.post("api/auth/signup",e),ye=e=>Ie.post("api/auth/login",e),ke=()=>{sessionStorage.removeItem("token")},Ce=e=>{sessionStorage.setItem("token",e)},De=()=>sessionStorage.getItem("token"),Pe=()=>{let e=sessionStorage.getItem(e);return!!e};const Ue={signup:we,login:ye,logout:ke,saveToken:Ce,getToken:De,isLogged:Pe},xe=be.Z.create({baseURL:"https://back-8hi1.onrender.com"});xe.interceptors.request.use((e=>(Ue.isLogged&&(e.headers.Authorization="Bearer "+Ue.getToken()),e))),xe.interceptors.response.use((e=>e),(e=>{401==e.response.status&&"Non autorisé"==e.response.message&&(Ue.logout(),Bi.push("/"))}));const Ie=xe;let Ee=()=>Ie.get("/api/content"),Te=e=>Ie.post("/api/content",e,{headers:{"Content-Type":"multipart/form-data"}}),Se=(e,t)=>Ie.patch("/api/content/"+e,t,{headers:{"Content-Type":"multipart/form-data"}}),Ae=(e,t)=>Ie.patch("/api/content/hero/"+e,t,{headers:{"Content-Type":"multipart/form-data"}}),Me=e=>Ie.post("/api/content/hero",e,{headers:{"Content-Type":"multipart/form-data"}}),Fe=()=>Ie.get("/api/content/hero"),Le=()=>Ie.get("/api/content/getStyle"),Oe=e=>Ie.patch("/api/content/updateStyle",e);const We={postContent:Se,getContent:Ee,createPost:Te,postHero:Ae,getHero:Fe,createHero:Me,getPublicStyle:Le,updatePublicStyle:Oe},Ye={class:"navDown"},He=["href"];function Re(e,t,n,o,i,s){return(0,l.wg)(),(0,l.iD)("div",Ye,[(0,l._)("button",{href:i.link,class:"btnMobile"},"Commandez",8,He)])}const Ne={name:"orderBtn",data(){return{link:""}},methods:{}},qe=(0,r.Z)(Ne,[["render",Re],["__scopeId","data-v-57f736c4"]]),Xe=qe,ze={name:"HomeView",components:{orderBtn:Xe},data(){return{home:{},contents:[],hero:""}},computed:{...(0,Z.rn)(["publicStyle"])},mounted(){We.getContent().then((e=>{this.home=e.data.home})).catch((e=>{console.log(e)})),We.getHero().then((e=>{this.hero=e.data.hero[0].imgHero})).catch((e=>console.log(e)))}},Ve=(0,r.Z)(ze,[["render",fe],["__scopeId","data-v-7e7f4c80"]]),Be=Ve,$e=e=>((0,l.dD)("data-v-98ed3208"),e=e(),(0,l.Cn)(),e),Ze={class:"public"},je={class:"public-content"},Ke={class:"section"},Ge=["onClick"],Je={id:"sectionTacos",class:"menusection"},Qe=$e((()=>(0,l._)("h1",{class:"titlesection"},"PRODUITS",-1))),et={class:"rayon",oncontextmenu:"return false;",onkeydown:"return false;",onmousedown:"return false;"},tt={class:"pictureProduit"},nt=["onClick"],ot=["src"],lt={key:0,class:"infos"},it={class:"titleandinfo"},st={class:"titleproduit"},rt={class:"info"},at={key:0,class:"prix"},ut={key:1,class:"prix"},ct={key:1,class:"infos"},dt=$e((()=>(0,l._)("p",{class:"titleproduit"},"indisponible",-1))),pt=[dt];function mt(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",Ze,[(0,l._)("div",je,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.searchKey=e),type:"search",id:"search",placeholder:"rechercher...",autocomplete:"off"},null,512),[[o.nr,s.searchKey]]),(0,l._)("div",Ke,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.categories,(e=>((0,l.wg)(),(0,l.iD)("label",{class:"switch",key:e},[(0,l._)("input",{type:"checkbox",onClick:t=>r.toggleCategory(e)},null,8,Ge),(0,l._)("span",null,(0,d.zw)(e),1)])))),128))]),(0,l._)("section",Je,[Qe,(0,l._)("div",et,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.filteredProducts,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"produit",key:e},[(0,l._)("div",tt,[e.prixMenu?((0,l.wg)(),(0,l.iD)("img",{key:0,src:"menu.svg",onClick:e=>r.toggleMenu(t),class:(0,d.C_)({iconMenu:!0,iconMenuOff:!s.products[t].Menu})},null,10,nt)):(0,l.kq)("",!0),(0,l._)("img",{src:e.imageUrl,alt:"une photo du Tacos M",class:"imgproduit"},null,8,ot),(0,l._)("img",{src:"boisson.png",class:(0,d.C_)({boisson:!0,boissonOut:!s.products[t].Menu})},null,2),(0,l._)("img",{src:"frite.png",class:(0,d.C_)({frite:!0,friteOut:!s.products[t].Menu})},null,2)]),e.available?((0,l.wg)(),(0,l.iD)("div",lt,[(0,l._)("div",it,[(0,l._)("h2",st,(0,d.zw)(e.nameProduct),1),(0,l._)("h3",rt,(0,d.zw)(e.descriptionProduct),1)]),s.products[t].Menu&&s.products[t].prixMenu?((0,l.wg)(),(0,l.iD)("p",at,(0,d.zw)(e.prixMenu.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1)):((0,l.wg)(),(0,l.iD)("p",ut,(0,d.zw)(e.prixProduct.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1))])):((0,l.wg)(),(0,l.iD)("div",ct,pt))])))),128))])])])])}let ht=()=>Ie.get("/api/products"),gt=e=>Ie.get("/api/products/"+e),_t=(e,t)=>Ie.patch("/api/products/"+e,t,{headers:{"Content-Type":"multipart/form-data"}}),vt=e=>Ie.post("/api/products/",e,{headers:{"Content-Type":"multipart/form-data"}}),ft=e=>{Ie.post("/api/products",e,{headers:{"Content-Type":"multipart/form-data"}})},bt=e=>Ie["delete"]("/api/products/"+e);const wt={deleteProduct:bt,createProduct:vt,getAllProducts:ht,getProduct:gt,updateProduct:_t,uploadImg:ft},yt={name:"Menu",data(){return{products:[],selectedCategories:[],categories:["BAGUETTE","burger","tacos","muffin","texmex","pizza","boisson"],searchKey:"",panier:[]}},computed:{filteredProducts(){let e=[];return e=0===this.selectedCategories.length?this.products:this.products.filter((e=>this.selectedCategories.includes(e.category))),e.filter((e=>e.nameProduct.toLowerCase().includes(this.searchKey.toLowerCase())))}},methods:{toggleCategory(e){const t=this.selectedCategories.indexOf(e);-1===t?this.selectedCategories.push(e):this.selectedCategories.splice(t,1)},toggleMenu(e){this.products[e].Menu=!this.products[e].Menu}},mounted(){wt.getAllProducts().then((e=>{const t=e.data.Allproduct,n=t.map((e=>e.hasOwnProperty("prixMenu")?{...e,Menu:!0}:e));this.products=n,console.log(this.products)})).catch((e=>{console.log(e)}))}},kt=(0,r.Z)(yt,[["render",mt],["__scopeId","data-v-98ed3208"]]),Ct=kt,Dt={class:"admin"};function Pt(e,t,n,o,i,s){const r=(0,l.up)("burgerNavAdmin"),a=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",{style:(0,d.j5)({backgroundColor:e.publicStyle.backgroundColor}),class:"layout"},[(0,l.Wm)(r),(0,l._)("div",Dt,[(0,l.Wm)(a)])],4)}const Ut=(0,l._)("header",null," header",-1);function xt(e,t,n,o,i,s){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",null,[Ut,(0,l.Wm)(r,{to:"/admin/user/index"},{default:(0,l.w5)((()=>[(0,l.Uk)("Users")])),_:1}),(0,l.Uk)(" / "),(0,l.Wm)(r,{to:"/admin/products/index"},{default:(0,l.w5)((()=>[(0,l.Uk)("products")])),_:1}),(0,l.Uk)(" / "),(0,l.Wm)(r,{to:"/admin/content"},{default:(0,l.w5)((()=>[(0,l.Uk)("content")])),_:1}),(0,l.Uk)(" / "),(0,l._)("button",{onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e)),class:"btn"},"Deconnexion")])}let It=()=>Ie.get("/api/users"),Et=e=>Ie.get("/api/users/"+e),Tt=(e,t)=>Ie.patch("/api/users/"+e,t),St=e=>Ie.post("/api/users/",e),At=e=>Ie["delete"]("/api/users/"+e);const Mt={deleteUser:At,createUser:St,getAllUsers:It,getUser:Et,updateUser:Tt},Ft={name:"AdminNav",methods:{logout(){Ue.logout(),this.$router.push("/")}}},Lt=(0,r.Z)(Ft,[["render",xt]]),Ot=Lt,Wt={class:"navBar"},Yt={class:"navUl"},Ht={class:"menu"},Rt={class:"ul-link"};function Nt(e,t,n,i,s,r){const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Wt,[(0,l.wy)((0,l._)("ul",Yt,[(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/admin/user/index"},{default:(0,l.w5)((()=>[(0,l.Uk)("UTILISATEURS")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/admin/products/index"},{default:(0,l.w5)((()=>[(0,l.Uk)("PRODUITS")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/admin/content"},{default:(0,l.w5)((()=>[(0,l.Uk)("MARKETING")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{class:"navBarLink",to:"/admin/client"},{default:(0,l.w5)((()=>[(0,l.Uk)("Clients")])),_:1})])],512),[[o.F8,!s.menuIsActive]])]),(0,l._)("label",null,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>s.menuIsActive=e)},null,512),[[o.e8,s.menuIsActive]]),(0,l._)("span",Ht,[(0,l._)("span",{class:(0,d.C_)(["exit",{halbaxit:s.menuIsActive}])},null,2),(0,l._)("img",{class:(0,d.C_)(["logo",{halba:s.menuIsActive}]),src:O},null,2)])]),(0,l._)("div",{onClick:t[1]||(t[1]=(...e)=>r.navigation&&r.navigation(...e)),onWheel:t[2]||(t[2]=(0,o.iM)((()=>{}),["prevent"])),onTouchmove:t[3]||(t[3]=(0,o.iM)((()=>{}),["prevent"])),onScroll:t[4]||(t[4]=(0,o.iM)((()=>{}),["prevent"])),class:(0,d.C_)([{showNavLink:s.menuIsActive},"navLink"])},[(0,l._)("ul",Rt,[(0,l._)("li",null,[(0,l.Wm)(a,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("CARTE")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{to:"/menu"},{default:(0,l.w5)((()=>[(0,l.Uk)("CARTE")])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(a,{to:"/admin/dashboard"},{default:(0,l.w5)((()=>[(0,l.Uk)("Admin")])),_:1})])])],34)],64)}const qt={name:"BurgerNav",data(){return{menuIsActive:!1}},computed:{},methods:{navigation(){this.menuIsActive=!1}}},Xt=(0,r.Z)(qt,[["render",Nt],["__scopeId","data-v-65a36abe"]]),zt=Xt,Vt={name:"PublicLayout",components:{PublicNav:M,AdminNav:Ot,burgerNavAdmin:zt},computed:{...(0,Z.rn)(["publicStyle"])}},Bt=(0,r.Z)(Vt,[["render",Pt]]),$t=Bt,Zt={class:"admin"};function jt(e,t,n,o,i,s){const r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",Zt,[(0,l.Uk)("Dashboard Layout "),(0,l.Wm)(r)])}const Kt={name:"Dashboard"},Gt=(0,r.Z)(Kt,[["render",jt]]),Jt=Gt,Qt=e=>((0,l.dD)("data-v-7b2db2b6"),e=e(),(0,l.Cn)(),e),en={class:"admin-content"},tn=Qt((()=>(0,l._)("h2",null,"Liste des Utilisateurs",-1))),nn={class:"content-wrap"},on={class:"btn"},ln=Qt((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"email"),(0,l._)("th",null,"Tel"),(0,l._)("th")])],-1))),sn=["onClick"],rn=["onClick"];function an(e,t,n,o,i,s){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",en,[tn,(0,l._)("div",nn,[(0,l._)("button",on,[(0,l.Wm)(r,{class:"link",to:"/admin/user/add"},{default:(0,l.w5)((()=>[(0,l.Uk)("AJOUTER UN UTILISATEUR")])),_:1})])]),(0,l._)("div",null,[(0,l._)("table",null,[ln,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.users,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,d.zw)(e.email),1),(0,l._)("td",null,(0,d.zw)(e.phone),1),(0,l._)("td",null,[(0,l._)("button",{onClick:t=>s.goEditUser(e._id),class:"btn"},"Modifier",8,sn),e._id!==i.adminId?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n=>s.goDeleteUser(e._id,t),class:"btn delete"},"Supprimer",8,rn)):(0,l.kq)("",!0)])])))),128))])])])])}const un={name:"userIndex",data(){return{userLogged:"",users:[],adminId:"6409c0663d01483e0549bb2c"}},methods:{goEditUser(e){this.$router.push({name:"userEdit",params:{id:e}})},goDeleteUser(e,t){Mt.deleteUser(e).then((e=>{this.users.splice(t,1)})).catch((e=>console.log(e)))}},mounted(){Mt.getAllUsers().then((e=>{this.users=e.data.users,console.log(this.users)})).catch((e=>{console.log(e),this.$router.push("/login")}))}},cn=(0,r.Z)(un,[["render",an],["__scopeId","data-v-7b2db2b6"]]),dn=cn,pn={class:"admin"},mn=(0,l._)("h2",null,"Edition Utilisateur",-1),hn=(0,l._)("label",{for:"userName"},"ID",-1),gn=(0,l._)("label",{for:"userSurname"},"ID",-1),_n=(0,l._)("label",{for:"userPhone"},"Tel",-1),vn=(0,l._)("label",{for:"userEmail"},"Email",-1),fn=(0,l._)("button",{type:"submit",class:"btn"},"Modifier",-1);function bn(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",pn,[(0,l.Uk)((0,d.zw)(s.user.userName)+" "+(0,d.zw)(n.id)+" ",1),mn,(0,l._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)((e=>r.editUser()),["prevent"]))},[hn,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.user.name=e),required:""},null,512),[[o.nr,s.user.name]]),gn,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.user.surname=e),required:""},null,512),[[o.nr,s.user.surname]]),_n,(0,l.wy)((0,l._)("input",{type:"tel",maxlength:"10",Pattern:"^0[0-9]{9}$",class:"field-long","onUpdate:modelValue":t[2]||(t[2]=e=>s.user.phone=e),required:""},null,512),[[o.nr,s.user.phone]]),vn,(0,l.wy)((0,l._)("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=e=>s.user.email=e),required:""},null,512),[[o.nr,s.user.email]]),fn],32)])}const wn={name:"userEdit",props:["id"],data(){return{user:{}}},methods:{editUser(){Mt.updateUser(this.id,this.user).then((e=>{1==e.data.modif.acknowledged&&1==e.data.modif.matchedCount&&0==e.data.modif.modifiedCount?(console.log(e.data),console.log("aucune modif")):this.$router.push({name:"userIndex"})})).catch((e=>console.log(e)))}},mounted(){Mt.getUser(this.id).then((e=>{this.user=e.data.User})).catch((e=>console.log(e)))}},yn=(0,r.Z)(wn,[["render",bn]]),kn=yn,Cn=e=>((0,l.dD)("data-v-31a2e6a0"),e=e(),(0,l.Cn)(),e),Dn={class:"admin"},Pn={class:"form-style-1"},Un={key:0},xn=Cn((()=>(0,l._)("b",null,"Corriger les erreurs suivantes",-1))),In=Cn((()=>(0,l._)("label",null,"IDENTITE",-1))),En=Cn((()=>(0,l._)("label",null,"EMAIL",-1))),Tn=Cn((()=>(0,l._)("label",null,"ROLE",-1))),Sn=Cn((()=>(0,l._)("option",{value:"Manager"},"Manager",-1))),An=Cn((()=>(0,l._)("option",{value:"Cuisto"},"Cuisto",-1))),Mn=Cn((()=>(0,l._)("option",{value:"Caissier"},"Caissier",-1))),Fn=Cn((()=>(0,l._)("option",{value:"Livreur"},"Livreur",-1))),Ln=[Sn,An,Mn,Fn],On=Cn((()=>(0,l._)("label",{for:"phone"},"TELEPHONE",-1))),Wn=Cn((()=>(0,l._)("label",{for:"userPassword"},"mot de passe",-1))),Yn=Cn((()=>(0,l._)("li",null,[(0,l._)("button",{type:"submit",class:"btn"},"CREER")],-1)));function Hn(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",Dn,[(0,l._)("form",{onSubmit:t[7]||(t[7]=(0,o.iM)((e=>r.addUser()),["prevent"]))},[(0,l._)("ul",Pn,[s.errors.length?((0,l.wg)(),(0,l.iD)("p",Un,[xn,(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.errors,(e=>((0,l.wg)(),(0,l.iD)("li",null,(0,d.zw)(e),1)))),256))])])):(0,l.kq)("",!0),(0,l._)("li",null,[In,(0,l.wy)((0,l._)("input",{type:"text",name:"field1",class:"field-divided",placeholder:"Nom","onUpdate:modelValue":t[0]||(t[0]=e=>s.user.name=e),required:""},null,512),[[o.nr,s.user.name]]),(0,l.Uk)(),(0,l.wy)((0,l._)("input",{type:"text",name:"field2",class:"field-divided",placeholder:"Prénom","onUpdate:modelValue":t[1]||(t[1]=e=>s.user.surname=e),required:""},null,512),[[o.nr,s.user.surname]])]),(0,l._)("li",null,[En,(0,l.wy)((0,l._)("input",{type:"email",name:"field3",class:"field-long",placeholder:"email@exemple.com","onUpdate:modelValue":t[2]||(t[2]=e=>s.user.email=e),required:""},null,512),[[o.nr,s.user.email]])]),(0,l._)("li",null,[Tn,(0,l.wy)((0,l._)("select",{name:"field4",class:"field-select","onUpdate:modelValue":t[3]||(t[3]=e=>s.user.role=e),required:""},Ln,512),[[o.bM,s.user.role]])]),(0,l._)("li",null,[On,(0,l.wy)((0,l._)("input",{type:"text",name:"field5",maxlength:"10",Pattern:"^0[0-9]{9}$",placeholder:"0607080910",class:"field-long","onUpdate:modelValue":t[4]||(t[4]=e=>s.user.phone=e),required:""},null,512),[[o.nr,s.user.phone]])]),(0,l._)("li",null,[Wn,(0,l.wy)((0,l._)("input",{type:"password",name:"field6",placeholder:"Minimum 6 caractères",class:"field-long","onUpdate:modelValue":t[5]||(t[5]=e=>s.user.password=e),required:""},null,512),[[o.nr,s.user.password]])]),(0,l._)("li",null,[(0,l.wy)((0,l._)("input",{type:"password",name:"field7",placeholder:"Retapez le mot de passe",class:"field-long","onUpdate:modelValue":t[6]||(t[6]=e=>s.confirmPassword=e),required:""},null,512),[[o.nr,s.confirmPassword]])]),Yn,(0,l.Uk)(" "+(0,d.zw)(this.user.phone),1)])],32)])}const Rn={name:"userAdd",data(){return{user:{name:"",surname:"",role:"",phone:"",email:"",password:""},confirmPassword:"",errors:[]}},methods:{addUser(){this.errors=[],this.user.password!=this.confirmPassword&&this.errors.push("le mot de passe doit correspondre"),this.user.password.length<6&&this.errors.push("le mot de passe doit contenir au moins 6 caractères"),0==this.errors.length&&Mt.createUser(this.user).then((e=>{console.log(e.data),this.$router.push({name:"userIndex"})})).catch((e=>console.log(e)))}}},Nn=(0,r.Z)(Rn,[["render",Hn],["__scopeId","data-v-31a2e6a0"]]),qn=Nn,Xn=e=>((0,l.dD)("data-v-3cba6483"),e=e(),(0,l.Cn)(),e),zn={class:"admin"},Vn={class:"admin-content"},Bn=Xn((()=>(0,l._)("h2",null,"Liste des Utilisateurs",-1))),$n={class:"content-wrap"},Zn={class:"btn"},jn=Xn((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"ID"),(0,l._)("th",null,"Utilisateur"),(0,l._)("th",null,"Tel"),(0,l._)("th",null,"Role"),(0,l._)("th",null,"email"),(0,l._)("th",null,"OPTIONS")])],-1))),Kn=["onClick"],Gn=["onClick"];function Jn(e,t,n,o,i,s){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",zn,[(0,l._)("div",Vn,[Bn,(0,l._)("div",$n,[(0,l._)("button",Zn,[(0,l.Wm)(r,{class:"link",to:"/admin/user/add"},{default:(0,l.w5)((()=>[(0,l.Uk)("AJOUTER UN UTILISATEUR")])),_:1})])]),(0,l._)("table",null,[jn,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.users,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,d.zw)("#"+t),1),(0,l._)("td",null,(0,d.zw)(e.name+e.surname),1),(0,l._)("td",null,(0,d.zw)(e.phone),1),(0,l._)("td",null,(0,d.zw)(e.role),1),(0,l._)("td",null,(0,d.zw)(e.email),1),(0,l._)("td",null,[(0,l._)("button",{onClick:t=>s.goEditUser(e._id),class:"btn"},"Modifier",8,Kn),e._id!==i.adminId?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n=>s.goDeleteUser(e._id,t),class:"btn delete"},"Supprimer",8,Gn)):(0,l.kq)("",!0)])])))),128))])])])])}const Qn={name:"userIndex",data(){return{userLogged:"",users:[],adminId:"6409c0663d01483e0549bb2c"}},methods:{goEditUser(e){this.$router.push({name:"userEdit",params:{id:e}})},goDeleteUser(e,t){Mt.deleteUser(e).then((e=>{this.users.splice(t,1)})).catch((e=>console.log(e)))}},mounted(){Mt.getAllUsers().then((e=>{this.users=e.data.users,console.log(this.users)})).catch((e=>{console.log(e),this.$router.push("/login")}))}},eo=(0,r.Z)(Qn,[["render",Jn],["__scopeId","data-v-3cba6483"]]),to=eo,no=e=>((0,l.dD)("data-v-56d1578c"),e=e(),(0,l.Cn)(),e),oo={class:"admin"},lo={class:"admin-content"},io=no((()=>(0,l._)("h1",null,"Liste des Produits",-1))),so=no((()=>(0,l._)("h2",null,"Assurez-vous que votre menu est correct",-1))),ro={class:"content-wrap"},ao=no((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"index"),(0,l._)("th",null,"NOM"),(0,l._)("th",null,"DESCRIPTION"),(0,l._)("th",null,"IMAGE"),(0,l._)("th",null,"PRIX"),(0,l._)("th",null,"DISPO"),(0,l._)("th",null,"OPTIONS")])],-1))),uo=["src"],co={class:"caseBtn"},po=["onClick"],mo=["onClick"];function ho(e,t,n,o,i,s){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",oo,[(0,l._)("div",lo,[(0,l.Wm)(r,{class:"navBarLink",to:"/admin/products/add"},{default:(0,l.w5)((()=>[(0,l.Uk)("ajout produit")])),_:1}),io,so,(0,l._)("div",ro,[(0,l._)("table",null,[ao,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.products,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,d.zw)("#"+t),1),(0,l._)("td",null,(0,d.zw)(e.nameProduct),1),(0,l._)("td",null,(0,d.zw)(e.descriptionProduct),1),(0,l._)("td",null,[(0,l._)("img",{src:e.imageUrl,class:"vignette"},null,8,uo)]),(0,l._)("td",null,(0,d.zw)(e.prixProduct.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),1),(0,l._)("td",null,[(0,l._)("div",{class:(0,d.C_)(e.available?"circle green":"circle red")},null,2)]),(0,l._)("td",null,[(0,l._)("div",co,[(0,l._)("button",{onClick:t=>s.goEditProduct(e._id),class:"btn"},"Modifier",8,po),(0,l._)("button",{onClick:n=>s.goDeleteProduct(e._id,t),class:"btn delete"},"Supprimer",8,mo)])])])))),128))])])])])])}const go={name:"productIndex",data(){return{products:[]}},methods:{goEditProduct(e){this.$router.push({name:"productEdit",params:{id:e}})},goDeleteProduct(e,t){wt.deleteProduct(e).then((e=>{console.log(e.data.message),this.products.splice(t,1)})).catch((e=>console.log(e)))}},mounted(){wt.getAllProducts().then((e=>{this.products=e.data.Allproduct})).catch((e=>{console.log(e)}))}},_o=(0,r.Z)(go,[["render",ho],["__scopeId","data-v-56d1578c"]]),vo=_o,fo=e=>((0,l.dD)("data-v-6b16e0f6"),e=e(),(0,l.Cn)(),e),bo={class:"admin"},wo={class:"form-style-1"},yo={key:0},ko=fo((()=>(0,l._)("b",null,"Corriger les erreurs suivantes",-1))),Co=fo((()=>(0,l._)("label",{for:"nom"},"Nom du Produit",-1))),Do=fo((()=>(0,l._)("label",{for:"description"},"description",-1))),Po=fo((()=>(0,l._)("label",{for:"prixProduit"},"Prix",-1))),Uo=fo((()=>(0,l._)("label",{for:"prixMenu"},"Prix en Menu:",-1))),xo=fo((()=>(0,l._)("label",null,"CATEGORIE",-1))),Io=fo((()=>(0,l._)("option",{value:"burger"},"BURGER",-1))),Eo=fo((()=>(0,l._)("option",{value:"tacos"},"TACOS",-1))),To=fo((()=>(0,l._)("option",{value:"sandwichs"},"SANDWICHS",-1))),So=fo((()=>(0,l._)("option",{value:"texmex"},"TEXMEX",-1))),Ao=[Io,Eo,To,So],Mo={class:"switch"},Fo=fo((()=>(0,l._)("span",{class:"slider round"},null,-1))),Lo=fo((()=>(0,l._)("li",null,[(0,l._)("button",{type:"submit",class:"btn"},"CREER")],-1)));function Oo(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",bo,[(0,l._)("form",{enctype:"multipart/form-data",onSubmit:t[7]||(t[7]=(0,o.iM)((e=>r.addProduct()),["prevent"]))},[(0,l._)("ul",wo,[s.errors.length?((0,l.wg)(),(0,l.iD)("p",yo,[ko,(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.errors,(e=>((0,l.wg)(),(0,l.iD)("li",null,(0,d.zw)(e),1)))),256))])])):(0,l.kq)("",!0),(0,l._)("li",null,[Co,(0,l.wy)((0,l._)("input",{type:"text",name:"nom",class:"field-divided",placeholder:"Nom","onUpdate:modelValue":t[0]||(t[0]=e=>s.product.nameProduct=e),required:""},null,512),[[o.nr,s.product.nameProduct]])]),(0,l._)("li",null,[Do,(0,l.wy)((0,l._)("input",{type:"text",name:"description",class:"field-long",placeholder:"description","onUpdate:modelValue":t[1]||(t[1]=e=>s.product.descriptionProduct=e),required:""},null,512),[[o.nr,s.product.descriptionProduct]])]),(0,l._)("li",null,[Po,(0,l.wy)((0,l._)("input",{type:"number",name:"prixProduit",step:"0.10",class:"field-long",placeholder:"en Euros",pattern:"^\\d+(\\.\\d{1,2})?$",max:"99.99","onUpdate:modelValue":t[2]||(t[2]=e=>s.product.prixProduct=e),required:""},null,512),[[o.nr,s.product.prixProduct]])]),(0,l._)("li",null,[Uo,(0,l.wy)((0,l._)("input",{type:"number",name:"prixMenu",step:"0.10",class:"field-long",placeholder:"en Euros",pattern:"^\\d+(\\.\\d{1,2})?$",max:"99.99","onUpdate:modelValue":t[3]||(t[3]=e=>s.product.prixMenu=e)},null,512),[[o.nr,s.product.prixMenu]])]),(0,l._)("li",null,[xo,(0,l.wy)((0,l._)("select",{name:"field4",class:"field-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.product.category=e),required:""},Ao,512),[[o.bM,s.product.category]])]),(0,l._)("label",Mo,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>this.product.available=e)},null,512),[[o.e8,this.product.available]]),Fo]),(0,l.Uk)(" "+(0,d.zw)(this.product.available?"disponible":"indisponible")+" ",1),(0,l._)("li",null,[(0,l._)("input",{type:"file",onChange:t[6]||(t[6]=(...e)=>r.selectFile&&r.selectFile(...e)),required:""},null,32)]),Lo])],32)])}const Wo={name:"productAdd",data(){return{product:{nameProduct:"",descriptionProduct:"",prixProduct:null,prixMenu:null,image:null,category:"",available:!0},errors:[]}},methods:{selectFile(e){this.product.image=e.target.files[0]},addProduct(){const e=new FormData;e.append("nameProduct",this.product.nameProduct),e.append("prixProduct",this.product.prixProduct),e.append("prixMenu",this.product.prixMenu),e.append("descriptionProduct",this.product.descriptionProduct),e.append("image",this.product.image),e.append("category",this.product.category),e.append("available",this.product.available),wt.createProduct(e).then((e=>{console.log(e.data),this.$router.push({name:"productIndex"})})).catch((e=>console.log(e)))}}},Yo=(0,r.Z)(Wo,[["render",Oo],["__scopeId","data-v-6b16e0f6"]]),Ho=Yo,Ro=e=>((0,l.dD)("data-v-5221d967"),e=e(),(0,l.Cn)(),e),No={class:"admin"},qo={class:"form-style-1"},Xo={key:0},zo=Ro((()=>(0,l._)("b",null,"Corriger les erreurs suivantes",-1))),Vo=Ro((()=>(0,l._)("label",{for:"nom"},"Nom du Produit",-1))),Bo=Ro((()=>(0,l._)("label",{for:"description'"},"description",-1))),$o=Ro((()=>(0,l._)("label",{for:"prix"},"Prix :",-1))),Zo={class:"switch"},jo=Ro((()=>(0,l._)("span",{class:"slider round"},null,-1))),Ko=Ro((()=>(0,l._)("li",null,[(0,l._)("button",{type:"submit",class:"btn"},"MODIFIER")],-1)));function Go(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",No,[(0,l.Uk)((0,d.zw)(n.id)+" ",1),(0,l._)("form",{enctype:"multipart/form-data",onSubmit:t[5]||(t[5]=(0,o.iM)((e=>r.editProduct()),["prevent"]))},[(0,l._)("ul",qo,[s.errors.length?((0,l.wg)(),(0,l.iD)("p",Xo,[zo,(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.errors,(e=>((0,l.wg)(),(0,l.iD)("li",null,(0,d.zw)(e),1)))),256))])])):(0,l.kq)("",!0),(0,l._)("li",null,[Vo,(0,l.wy)((0,l._)("input",{type:"text",name:"nom",class:"field-divided",placeholder:"Nom","onUpdate:modelValue":t[0]||(t[0]=e=>s.product.nameProduct=e),required:""},null,512),[[o.nr,s.product.nameProduct]])]),(0,l._)("li",null,[Bo,(0,l.wy)((0,l._)("input",{type:"text",name:"description",class:"field-long",placeholder:"description","onUpdate:modelValue":t[1]||(t[1]=e=>s.product.descriptionProduct=e),required:""},null,512),[[o.nr,s.product.descriptionProduct]])]),(0,l._)("li",null,[$o,(0,l.wy)((0,l._)("input",{type:"number",name:"prix",step:"0.10",class:"field-long",placeholder:"en Euros",pattern:"^\\d+(\\.\\d{1,2})?$",max:"99.99","onUpdate:modelValue":t[2]||(t[2]=e=>s.product.prixProduct=e),required:""},null,512),[[o.nr,s.product.prixProduct]])]),(0,l._)("li",null,[(0,l._)("label",Zo,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>this.product.available=e)},null,512),[[o.e8,this.product.available]]),jo]),(0,l.Uk)(" "+(0,d.zw)(this.product.available?"disponible":"indisponible"),1)]),(0,l._)("li",null,[(0,l._)("input",{type:"file",onChange:t[4]||(t[4]=(...e)=>r.selectFile&&r.selectFile(...e))},null,32)]),Ko])],32),(0,l.Uk)(" "+(0,d.zw)(this.product),1)])}const Jo={name:"productEdit",props:["id"],data(){return{product:{nameProduct:"",prixProduct:null,image:null,category:"",available:!0,descriptionProduct:""},errors:[]}},methods:{selectFile(e){this.product.image=e.target.files[0]},editProduct(){const e=new FormData;e.append("nameProduct",this.product.nameProduct),e.append("prixProduct",this.product.prixProduct),e.append("descriptionProduct",this.product.descriptionProduct),e.append("image",this.product.image),e.append("category",this.product.category),e.append("available",this.product.available),wt.updateProduct(this.id,e).then((e=>{1==e.data.modif.acknowledged&&1==e.data.modif.matchedCount&&0==e.data.modif.modifiedCount?console.log("aucune modif"):this.$router.push({name:"productIndex"})})).catch((e=>console.log(e)))}},mounted(){wt.getProduct(this.id).then((e=>{this.product=e.data.product})).catch((e=>console.log(e)))}},Qo=(0,r.Z)(Jo,[["render",Go],["__scopeId","data-v-5221d967"]]),el=Qo,tl=n.p+"img/icons.3f3befbd.svg",nl=e=>((0,l.dD)("data-v-1d604900"),e=e(),(0,l.Cn)(),e),ol=tl+"#upload",ll=nl((()=>(0,l._)("h1",{id:"homeManager-head"},"HOME MANAGER",-1))),il={id:"heroEdit",class:"module"},sl=nl((()=>(0,l._)("h1",null,"IMAGE HERO",-1))),rl=nl((()=>(0,l._)("h2",null,"Modifier l'image de couverture de la page d'accueil",-1))),al=nl((()=>(0,l._)("p",null,"Ceci est le contenu personnalisé du détail.",-1))),ul={class:"banner-content"},cl={for:"changeHero",class:"label-changeFile"},dl=nl((()=>(0,l._)("svg",{class:"icon upload-icon"},[(0,l._)("use",{href:ol})],-1))),pl={class:"picture"},ml=["src"],hl=nl((()=>(0,l._)("button",{type:"submit",class:"btn"},"PUBLIER",-1))),gl={id:"colorTable",class:"module"},_l=nl((()=>(0,l._)("h1",null,"TABLE DES COULEURS",-1))),vl=nl((()=>(0,l._)("h2",null,"Modifier le thème avec la table des couleurs",-1))),fl=nl((()=>(0,l._)("p",null,"Ceci est le contenu personnalisé du détail.",-1))),bl={class:"container-grid"},wl={class:"swatch"},yl={class:"info"},kl=nl((()=>(0,l._)("label",{for:"backgroundColor"},[(0,l._)("h1",null,"GENERAL")],-1))),Cl={class:"hexaCode"},Dl={class:"swatch"},Pl={class:"info"},Ul=nl((()=>(0,l._)("label",{for:"homeColor"},[(0,l._)("h1",null,"PAGE HOME")],-1))),xl={class:"hexaCode"},Il={class:"swatch"},El={class:"info"},Tl=nl((()=>(0,l._)("label",{for:"moduleColor"},[(0,l._)("h1",null,"MODULES")],-1))),Sl={class:"hexaCode"},Al={class:"swatch"},Ml={class:"info"},Fl=nl((()=>(0,l._)("label",{for:"buttonColor"},[(0,l._)("h1",null,"BOUTTON")],-1))),Ll={class:"hexaCode"},Ol={class:"swatch"},Wl={class:"info"},Yl=nl((()=>(0,l._)("label",{for:"titleColor"},[(0,l._)("h1",null,"TITRAGE")],-1))),Hl={class:"hexaCode"},Rl={class:"swatch"},Nl={class:"info"},ql=nl((()=>(0,l._)("label",{for:"textColor"},[(0,l._)("h1",null,"TEXTE")],-1))),Xl={class:"hexaCode"},zl=nl((()=>(0,l._)("button",{class:"btn",type:"submit"},"Publier",-1))),Vl={class:"section-marketing module"},Bl=nl((()=>(0,l._)("h1",null,"LE FEED MARKETING",-1))),$l=nl((()=>(0,l._)("h2",null,"Modifier le contenu de la page d'accueil",-1))),Zl=nl((()=>(0,l._)("p",null,"Ceci est le contenu personnalisé du détail.",-1))),jl={class:"container-grid"},Kl=["onSubmit"],Gl={class:"banner-content"},Jl=["for"],Ql=nl((()=>(0,l._)("svg",{class:"icon upload-icon"},[(0,l._)("use",{href:ol})],-1))),ei=["id","onChange"],ti={class:"picture"},ni=["src"],oi={class:"textWrap"},li={class:"cardText"},ii=["onClick"],si=["onUpdate:modelValue"],ri={key:0,class:"btn-textarea"},ai=["onClick"],ui=["onUpdate:modelValue"],ci={key:0,class:"btn-textarea"},di=nl((()=>(0,l._)("button",{type:"submit",class:"btn green"},"PUBLIER",-1))),pi=["onClick"];function mi(e,t,n,i,s,r){const a=(0,l.up)("moreDetail");return(0,l.wg)(),(0,l.iD)(l.HY,null,[ll,(0,l._)("section",il,[sl,(0,l.Wm)(a,null,{summary:(0,l.w5)((()=>[rl])),default:(0,l.w5)((()=>[al])),_:1}),(0,l._)("form",{enctype:"multipart/form-data",onSubmit:t[1]||(t[1]=(0,o.iM)((e=>r.editHero()),["prevent"]))},[(0,l._)("div",ul,[(0,l._)("label",cl,[dl,(0,l._)("input",{class:"changeFile",id:"changeHero",type:"file",onChange:t[0]||(t[0]=e=>r.selectFileHero(e)),accept:"image/png, image/jpg, image/jpeg"},null,32)]),(0,l._)("div",pl,[this.hero?((0,l.wg)(),(0,l.iD)("img",{key:0,class:(0,d.C_)(["oldImg",{newImg:this.hero.newFile}]),src:this.hero.imgHero},null,10,ml)):(0,l.kq)("",!0)])]),hl],32)]),(0,l._)("section",gl,[_l,(0,l.Wm)(a,null,{summary:(0,l.w5)((()=>[vl])),default:(0,l.w5)((()=>[fl])),_:1}),(0,l._)("form",{onSubmit:t[15]||(t[15]=(0,o.iM)(((...e)=>r.saveStyle&&r.saveStyle(...e)),["prevent"]))},[(0,l._)("div",bl,[(0,l._)("div",wl,[(0,l.wy)((0,l._)("input",{type:"color",class:"colorSelector",id:"backgroundColor","onUpdate:modelValue":t[2]||(t[2]=t=>e.publicStyle.backgroundColor=t),onInput:t[3]||(t[3]=e=>r.updateColor("backgroundColor"))},null,544),[[o.nr,e.publicStyle.backgroundColor]]),(0,l._)("div",yl,[kl,(0,l._)("h2",Cl,(0,d.zw)(e.publicStyle.backgroundColor),1)])]),(0,l._)("div",Dl,[(0,l.wy)((0,l._)("input",{type:"color",class:"colorSelector",id:"homeColor","onUpdate:modelValue":t[4]||(t[4]=t=>e.publicStyle.homeColor=t),onInput:t[5]||(t[5]=e=>r.updateColor("homeColor"))},null,544),[[o.nr,e.publicStyle.homeColor]]),(0,l._)("div",Pl,[Ul,(0,l._)("h2",xl,(0,d.zw)(e.publicStyle.homeColor),1)])]),(0,l._)("div",Il,[(0,l.wy)((0,l._)("input",{type:"color",class:"colorSelector",id:"moduleColor","onUpdate:modelValue":t[6]||(t[6]=t=>e.publicStyle.moduleColor=t),onInput:t[7]||(t[7]=e=>r.updateColor("moduleColor"))},null,544),[[o.nr,e.publicStyle.moduleColor]]),(0,l._)("div",El,[Tl,(0,l._)("h2",Sl,(0,d.zw)(e.publicStyle.moduleColor),1)])]),(0,l._)("div",Al,[(0,l.wy)((0,l._)("input",{type:"color",class:"colorSelector",id:"buttonColor","onUpdate:modelValue":t[8]||(t[8]=t=>e.publicStyle.buttonColor=t),onInput:t[9]||(t[9]=e=>r.updateColor("buttonColor"))},null,544),[[o.nr,e.publicStyle.buttonColor]]),(0,l._)("div",Ml,[Fl,(0,l._)("h2",Ll,(0,d.zw)(e.publicStyle.buttonColor),1)])]),(0,l._)("div",Ol,[(0,l.wy)((0,l._)("input",{type:"color",class:"colorSelector",id:"titleColor","onUpdate:modelValue":t[10]||(t[10]=t=>e.publicStyle.titleColor=t),onInput:t[11]||(t[11]=e=>r.updateColor("titleColor"))},null,544),[[o.nr,e.publicStyle.titleColor]]),(0,l._)("div",Wl,[Yl,(0,l._)("h2",Hl,(0,d.zw)(e.publicStyle.titleColor),1)])]),(0,l._)("div",Rl,[(0,l.wy)((0,l._)("input",{type:"color",class:"colorSelector",id:"textColor","onUpdate:modelValue":t[12]||(t[12]=t=>e.publicStyle.textColor=t),onInput:t[13]||(t[13]=e=>r.updateColor("textColor"))},null,544),[[o.nr,e.publicStyle.textColor]]),(0,l._)("div",Nl,[ql,(0,l._)("h2",Xl,(0,d.zw)(e.publicStyle.textColor),1)])])]),zl,(0,l._)("button",{class:"btn",type:"button",onClick:t[14]||(t[14]=e=>r.resetToInitialStyle())},"Annuler")],32)]),(0,l._)("section",Vl,[Bl,(0,l.Wm)(a,null,{summary:(0,l.w5)((()=>[$l])),default:(0,l.w5)((()=>[Zl])),_:1}),(0,l._)("div",jl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.home,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"banner",key:e._id},[(0,l._)("form",{enctype:"multipart/form-data",onSubmit:(0,o.iM)((e=>r.editPost("marketing",t)),["prevent"])},[(0,l._)("div",Gl,[(0,l._)("label",{for:"changeImg"+t,class:"label-changeFile"},[Ql,(0,l._)("input",{class:"changeFile",id:"changeImg"+t,type:"file",onChange:e=>r.selectFile1(e,t),accept:"image/png, image/jpg, image/jpeg"},null,40,ei)],8,Jl),(0,l._)("div",ti,[(0,l._)("img",{class:(0,d.C_)(["oldImg",{newImg:e.newFile}]),src:e.imgPost},null,10,ni)])]),(0,l._)("div",oi,[(0,l._)("div",li,[(0,l._)("div",{class:"edit-card",onClick:e=>s.activeIndex="title"+t},[(0,l.wy)((0,l._)("textarea",{class:(0,d.C_)([{cardFocus:s.activeIndex==="title"+t},"card-title"]),type:"text",rows:"1",maxlength:"20",pattern:"[A-Za-z0-9 ]+","onUpdate:modelValue":t=>e.titlePost=t},"\n                                                                                        ",10,si),[[o.nr,e.titlePost]]),s.activeIndex==="title"+t?((0,l.wg)(),(0,l.iD)("div",ri)):(0,l.kq)("",!0)],8,ii),(0,l._)("div",{class:"edit-card",onClick:e=>s.activeIndex="description"+t},[(0,l.wy)((0,l._)("textarea",{class:(0,d.C_)([{cardFocus:s.activeIndex==="description"+t},"card-description"]),type:"text",rows:"2",maxlength:"90","onUpdate:modelValue":t=>e.descriptionPost=t},"\n                                                                                        ",10,ui),[[o.nr,e.descriptionPost]]),s.activeIndex==="description"+t?((0,l.wg)(),(0,l.iD)("div",ci)):(0,l.kq)("",!0)],8,ai)]),di,(0,l._)("button",{class:"btn",onClick:(0,o.iM)((e=>r.cancelEdit("marketing",t)),["stop","prevent"])},"annuler",8,pi)])],40,Kl)])))),128))])])],64)}const hi=e=>((0,l.dD)("data-v-6555cfc4"),e=e(),(0,l.Cn)(),e),gi=hi((()=>(0,l._)("span",null,"...",-1))),_i={class:"text-detail"};function vi(e,t,n,o,i,s){return(0,l.wg)(),(0,l.iD)("details",null,[(0,l._)("summary",null,[(0,l.WI)(e.$slots,"summary",{},(()=>[(0,l.Uk)("Titre de la section par défaut")]),!0),gi]),(0,l._)("div",_i,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])])}const fi={name:"moreDetail",data(){return{}}},bi=(0,r.Z)(fi,[["render",vi],["__scopeId","data-v-6555cfc4"]]),wi=bi,yi={name:"homeEdit",components:{moreDetail:wi},data(){return{home:[],hero:{},originalData:[],originalHero:[],newFileHero:null,activeIndex:"",styleForm:{}}},methods:{...(0,Z.nv)(["getPublicStyle","updatePublicStyle"]),updateColor(e){document.documentElement.style.setProperty(`--${e}`,this.publicStyle[e])},resetToInitialStyle(){this.getPublicStyle()},saveStyle(){this.styleForm={...this.publicStyle},this.updatePublicStyle(this.styleForm).then((()=>{console.log("mise à jour du style")})).catch((e=>{console.error("Erreur lors de la mise à jour du style:",e)}))},cancelEdit(e,t){"marketing"===e&&(this.home[t].titlePost=this.originalData[t].titlePost,this.home[t].descriptionPost=this.originalData[t].descriptionPost,this.home[t].imgPost=this.originalData[t].imgPost,this.home[t].newFile=null)},validModif(e){"description"===e&&(this.home.descriptionPost=this.description),"cardTitle"===e&&(this.home.titlePost=this.cardTitle),this.activeIndex=null},selectFile1(e,t){const n=e.target.files[0];n&&(this.home[t].imgPost=URL.createObjectURL(n),this.home[t].newFile=n)},createPost(e){const t=new FormData;t.append("titlePost",this.home[e].titlePost),t.append("descriptionPost",this.home[e].descriptionPost),this.home[e].newFile&&t.append("imgPost",this.home[e].newFile),We.createPost(t).then((e=>{console.log(e)})).catch((e=>console.log(e)))},editPost(e,t){if("marketing"===e){const e=new FormData;e.append("titlePost",this.home[t].titlePost),e.append("descriptionPost",this.home[t].descriptionPost),this.home[t].newFile&&e.append("imgPost",this.home[t].newFile),this.home[t]._id?We.postContent(this.home[t]._id,e).then((e=>{console.log(e),this.home[t].newFile=null,this.originalData[t].imgPost=this.home[t].imgPost})).catch((e=>console.log(e))):We.createPost(e).then((e=>{console.log(e),this.home[t].newFile=null,this.originalData[t].imgPost=this.home[t].imgPost,console.log(e.data),this.home[t]._id=e.data.post._id})).catch((e=>console.log(e)))}},selectFileHero(e){const t=e.target.files[0];t&&(this.hero.imgHero=URL.createObjectURL(t),this.hero.newFile=t,console.log("newFile",this.hero.newFile))},editHero(){const e=new FormData;this.hero.newFile&&e.append("imgHero",this.hero.newFile),this.hero._id?(console.log(this.hero._id),We.postHero(this.hero._id,e).then((e=>{this.hero.newFile=null,this.originalHero.imgHero=this.hero.imgHero})).catch((e=>console.log(e)))):We.createHero(e).then((e=>{this.hero.newFile=null,this.originalHero.imgHero=this.hero.imgHero,this.hero._id=e.data.newHero._id})).catch((e=>console.log(e)))}},computed:{...(0,Z.rn)(["publicStyle"])},mounted(){We.getContent().then((e=>{const t={titlePost:"NOUVEAU POST",descriptionPost:"Modifier l'image, le titre et la description puis cliquez sur PUBLIER",imgPost:""};function n(e,t,n){while(e.length<n)e.push({...t});return e}const o=e.data.home||[],l=n(o,t,4);this.home=l,this.originalData=JSON.parse(JSON.stringify(l))})).catch((e=>{console.log(e)})),We.getHero().then((e=>{const t={imgPost:""};e.data.hero&&e.data.hero.length>0?this.hero=e.data.hero[0]:this.hero=t})).catch((e=>console.log(e)))}},ki=(0,r.Z)(yi,[["render",mi],["__scopeId","data-v-1d604900"]]),Ci=ki,Di={class:"admin"},Pi=(0,l._)("h2",null,"Authentification",-1),Ui=(0,l._)("label",null,"Email:",-1),xi=(0,l._)("label",null,"Mot de passe:",-1),Ii=(0,l._)("button",{type:"submit",class:"btn"},"Se connecter",-1);function Ei(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",Di,[Pi,(0,l._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[Ui,(0,l.wy)((0,l._)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.email=e),required:"",autocomplete:"username"},null,512),[[o.nr,s.credentials.email]]),xi,(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.password=e),required:"",autocomplete:"current-password"},null,512),[[o.nr,s.credentials.password]]),Ii],32)])}const Ti={name:"login",data(){return{credentials:{email:"",password:""}}},methods:{login(){Ue.login(this.credentials).then((e=>{Ue.saveToken(e.data.token),this.$router.push("/admin/dashboard")})).catch((e=>console.log(e)))}},components:{PublicNav:M,BurgerNav:z}},Si=(0,r.Z)(Ti,[["render",Ei]]),Ai=Si,Mi={class:"admin"},Fi=(0,l._)("h2",null,"S'inscrire",-1),Li=(0,l._)("label",null,"Username",-1),Oi=(0,l._)("label",null,"Email:",-1),Wi=(0,l._)("label",null,"Mot de passe:",-1),Yi=(0,l._)("button",{type:"submit"},"Se connecter",-1);function Hi(e,t,n,i,s,r){return(0,l.wg)(),(0,l.iD)("div",Mi,[Fi,(0,l._)("form",{onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>r.signup&&r.signup(...e)),["prevent"]))},[Li,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.name=e),required:"",autocomplete:"usernamed"},null,512),[[o.nr,s.credentials.name]]),Oi,(0,l.wy)((0,l._)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.email=e),required:""},null,512),[[o.nr,s.credentials.email]]),Wi,(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>s.credentials.password=e),required:"",autocomplete:"current-password"},null,512),[[o.nr,s.credentials.password]]),Yi],32)])}const Ri={name:"signup",data(){return{credentials:{name:"",email:"",password:""}}},methods:{signup(){Ue.signup(this.credentials).then((e=>{Ue.saveToken(e.data.token),this.$router.push("/admin/dashboard")})).catch((e=>console.log(e)))}},components:{PublicNav:M}},Ni=(0,r.Z)(Ri,[["render",Hi]]),qi=Ni;function Xi(e){let t=sessionStorage.getItem("token");if(t)return!0;Bi.push("/login")}const zi=[{path:"/",name:"public",component:G,children:[{path:"/",name:"home",component:Be},{path:"/about",name:"about",component:le},{path:"/menu",name:"menu",component:Ct}]},{path:"/admin",name:"admin",component:$t,children:[{path:"dashboard",name:"Dashboard",component:Jt,meta:{requireAuth:!0}},{path:"user/index",name:"userIndex",component:dn,meta:{requireAuth:!0},children:[{path:"user/add",name:"userAdd",component:qn,meta:{requireAuth:!0}},{path:"user/edit",name:"userEdit",component:kn,meta:{requireAuth:!0}}]},{path:"user/add",name:"userAdd",component:qn,meta:{requireAuth:!0}},{path:"user/edit",name:"userEdit",component:kn,meta:{requireAuth:!0}},{path:"client",name:"clientIndex",component:to,meta:{requireAuth:!0}},{path:"content",name:"homeEdit",component:Ci},{path:"user/edit/:id(\\d+)",name:"userEdit",component:kn,props:!0,meta:{requireAuth:!0}},{path:"products/index",name:"productIndex",component:vo},{path:"products/add",name:"productAdd",component:Ho},{path:"products/edit/:id(\\d+)",name:"productEdit",component:el,props:!0},{path:"/:patchMatch(.*)*",redirect:"/admin/dashboard"}]},{path:"/signup",name:"signup",component:qi},{path:"/login",name:"login",component:Ai},{path:"/:patchMatch(.*)*",redirect:"/"}],Vi=(0,c.p7)({history:(0,c.PO)("/startup/"),routes:zi});Vi.beforeEach(((e,t,n)=>{e.meta.requireAuth&&Xi(),n()}));const Bi=Vi,$i=(0,Z.MT)({state:{publicStyle:{backgroundColor:"#FFFFFF",homeColor:"#FFFFFF",moduleColor:"#FFFFFF",buttonColor:"#FFFFFF",titleColor:"#FFFFFF",textColor:"#FFFFFF"}},getters:{publicStyle:e=>e.publicStyle},mutations:{SET_PUBLIC_STYLE(e,t){e.publicStyle=t,document.documentElement.style.setProperty("--backgroundColor",t.backgroundColor),document.documentElement.style.setProperty("--homeColor",t.homeColor),document.documentElement.style.setProperty("--moduleColor",t.moduleColor),document.documentElement.style.setProperty("--buttonColor",t.buttonColor),document.documentElement.style.setProperty("--titleColor",t.titleColor),document.documentElement.style.setProperty("--textColor",t.textColor)}},actions:{getPublicStyle({commit:e}){return We.getPublicStyle().then((t=>{e("SET_PUBLIC_STYLE",t.data)})).catch((e=>{console.error("Erreur lors de la récupération du style",e)}))},updatePublicStyle({commit:e},t){return We.updatePublicStyle(t).then((()=>{e("SET_PUBLIC_STYLE",t)})).catch((e=>{console.error("Erreur lors de la mise à jour du style.",e)}))},resetPublicStyle({commit:e}){return We.getInitialPublicStyle().then((t=>{e("SET_PUBLIC_STYLE",t.data)})).catch((e=>{console.error("Erreur lors de la réinitialisation du style",e)}))},initializeData({dispatch:e}){return e("getPublicStyle")}},modules:{}});var Zi=n(920);const ji=(0,Zi.ZP)("https://back-8hi1.onrender.com"),Ki={connect:()=>{ji.on("connect",(()=>{console.log("Connected to the server")}))},onThreadChange:e=>{ji.on("threadChange",(t=>{e(t)}))},onCommentChange:e=>{ji.on("commentChange",(t=>{e(t)}))},offCommentChange:e=>{ji.off("commentChange",e)},emitEvent:(e,t)=>{ji.emit(e,t)},disconnect:()=>{ji.disconnect()}},Gi=Ki,Ji=(0,o.ri)(u);Ji.provide("socket",Gi),Ji.use($i),Ji.use(Bi),Ji.mount("#app")}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,o,l,i)=>{if(!o){var s=1/0;for(c=0;c<e.length;c++){for(var[o,l,i]=e[c],r=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](o[a])))?o.splice(a--,1):(r=!1,i<s&&(s=i));if(r){e.splice(c--,1);var u=l();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,l,i]}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/startup/"})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,i,[s,r,a]=o,u=0;if(s.some((t=>0!==e[t]))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(a)var c=a(n)}for(t&&t(o);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunksiteweb"]=self["webpackChunksiteweb"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[998],(()=>n(740)));o=n.O(o)})();
//# sourceMappingURL=app.000c0c8c.js.map